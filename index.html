<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aplikasi Lahir Mati Pro Aktif</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script>
        // Konfigurasi Tailwind CSS
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#1e40af',
                        secondary: '#3b82f6'
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        /* CSS Kustom Gabungan dari Semua Halaman */
        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .card-shadow {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .scrolling-text {
            animation: scroll 20s linear infinite;
        }
        @keyframes scroll {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        .slide-in {
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .form-floating {
            animation: formFloat 0.6s ease-out;
        }
        @keyframes formFloat {
            from { transform: scale(0.9) translateY(20px); opacity: 0; }
            to { transform: scale(1) translateY(0); opacity: 1; }
        }
        .input-focus {
            transition: all 0.3s ease;
        }
        .input-focus:focus {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(59, 130, 246, 0.15);
        }
        .section-card {
            transition: all 0.3s ease;
        }
        .section-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        }
        .login-modal, .form-modal, .success-modal {
            backdrop-filter: blur(10px);
        }
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 0.8s ease forwards;
        }
        .fade-in-delay-1 { animation-delay: 0.2s; }
        .fade-in-delay-2 { animation-delay: 0.4s; }
        .fade-in-delay-3 { animation-delay: 0.6s; }
        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        /* Class untuk menyembunyikan halaman */
        .page-hidden {
            display: none;
        }
        /* Style untuk navigasi aktif */
        .nav-link.active {
            background-color: #3b82f6; /* bg-blue-500 */
            color: white;
        }
    </style>
</head>
<body class="bg-gray-100">

    <!-- Navigasi Utama Aplikasi -->
    <nav class="bg-blue-800 shadow-lg sticky top-0 z-40">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <img class="h-10 w-10" src="https://iili.io/KBPIRBS.png" alt="Logo">
                    </div>
                    <div class="hidden md:block">
                        <div class="ml-10 flex items-baseline space-x-4">
                            <a href="#" onclick="showPage('dashboard')" class="nav-link text-gray-300 hover:bg-blue-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium active">Dashboard</a>
                            <a href="#" onclick="showPage('about')" class="nav-link text-gray-300 hover:bg-blue-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Tentang Kami</a>
                            <a href="#" onclick="showPage('contact')" class="nav-link text-gray-300 hover:bg-blue-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Kontak</a>
                        </div>
                    </div>
                </div>
                <div class="-mr-2 flex md:hidden">
                    <button type="button" id="mobile-menu-button" class="bg-blue-800 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-blue-800 focus:ring-white" aria-controls="mobile-menu" aria-expanded="false">
                        <span class="sr-only">Buka menu utama</span>
                        <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                        <svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        <div class="md:hidden hidden" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="#" onclick="showPage('dashboard')" class="nav-link text-gray-300 hover:bg-blue-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium active">Dashboard</a>
                <a href="#" onclick="showPage('about')" class="nav-link text-gray-300 hover:bg-blue-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Tentang Kami</a>
                <a href="#" onclick="showPage('contact')" class="nav-link text-gray-300 hover:bg-blue-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Kontak</a>
            </div>
        </div>
    </nav>
    
    <!-- Kontainer Halaman -->
    <div id="app-container">
        
        <!-- =================================================================== -->
        <!--                         HALAMAN DASHBOARD                           -->
        <!-- =================================================================== -->
        <div id="dashboard-page">
             <!-- Header -->
            <header class="relative">
                <!-- Blue gradient background -->
                <div class="absolute inset-0 bg-gradient-to-br from-blue-600 to-blue-800">
                    <div class="absolute inset-0 bg-black opacity-10"></div>
                </div>
                
                <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 lg:py-12">
                    <!-- Logo and Title Section -->
                    <div class="text-center mb-8 lg:mb-12">
                        <!-- Enhanced Logo -->
                        <div class="inline-flex items-center justify-center w-32 h-32 sm:w-36 sm:h-36 lg:w-44 lg:h-44 bg-white bg-opacity-15 rounded-2xl mb-6 backdrop-blur-sm border border-white border-opacity-20">
                            <!-- Application Logo -->
                            <img src="https://iili.io/KBPIRBS.png" alt="Logo Lahir Mati Pro Aktif" class="w-24 h-24 sm:w-28 sm:h-28 lg:w-36 lg:h-36 object-contain" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                            <!-- Fallback SVG if image fails to load -->
                            <svg class="w-24 h-24 sm:w-28 sm:h-28 lg:w-36 lg:h-36 hidden" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <circle cx="50" cy="50" r="45" fill="rgba(255,255,255,0.1)" stroke="rgba(255,255,255,0.3)" stroke-width="2"/>
                                <rect x="25" y="20" width="35" height="45" rx="4" fill="white" opacity="0.95"/>
                                <rect x="30" y="28" width="25" height="2" rx="1" fill="#3b82f6"/>
                                <rect x="30" y="33" width="20" height="2" rx="1" fill="#3b82f6"/>
                                <rect x="30" y="38" width="22" height="2" rx="1" fill="#3b82f6"/>
                                <rect x="30" y="43" width="18" height="2" rx="1" fill="#3b82f6"/>
                                <path d="M50 75 C45 70, 35 65, 35 55 C35 50, 40 45, 45 45 C47 45, 49 46, 50 48 C51 46, 53 45, 55 45 C60 45, 65 50, 65 55 C65 65, 55 70, 50 75 Z" fill="#ef4444" opacity="0.9"/>
                                <rect x="48" y="12" width="4" height="14" rx="2" fill="white"/>
                                <rect x="42" y="16" width="16" height="4" rx="2" fill="white"/>
                            </svg>
                        </div>
                        
                        <!-- Main Title -->
                        <h1 class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold mb-4 text-white leading-tight">
                            <span class="bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent">
                                Aplikasi Lahir Mati Pro Aktif
                            </span>
                        </h1>
                        
                        <!-- Subtitle -->
                        <div class="max-w-4xl mx-auto">
                            <p class="text-lg sm:text-xl md:text-2xl lg:text-3xl text-blue-100 font-medium mb-2">
                                Sistem Pelaporan Peristiwa Kelahiran, Kematian dan Lahir Mati Melalui Tenaga Kesehatan
                            </p>
                            <p class="text-sm sm:text-base md:text-lg lg:text-xl text-blue-200 opacity-90">
                                Dinas Kependudukan dan Pencatatan Sipil Kabupaten Kepulauan Tanimbar
                            </p>
                        </div>
                    </div>
                    
                    <!-- Action Buttons -->
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8 lg:mb-12 max-w-5xl mx-auto">
                        <button onclick="showForm()" class="group relative overflow-hidden bg-white bg-opacity-15 hover:bg-opacity-25 backdrop-blur-sm border border-white border-opacity-30 text-white font-semibold py-3 px-6 lg:px-8 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-2xl w-full">
                            <div class="absolute inset-0 bg-gradient-to-r from-white to-transparent opacity-0 group-hover:opacity-10 transition-opacity duration-300"></div>
                            <span class="relative flex items-center justify-center">
                                <svg class="w-5 h-5 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
                                </svg>
                                <span class="text-sm lg:text-base">Form Pelaporan Baru</span>
                            </span>
                        </button>
                        
                        <button onclick="refreshData(event)" class="group relative overflow-hidden bg-white bg-opacity-15 hover:bg-opacity-25 backdrop-blur-sm border border-white border-opacity-30 text-white font-semibold py-3 px-6 lg:px-8 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-2xl w-full">
                            <div class="absolute inset-0 bg-gradient-to-r from-white to-transparent opacity-0 group-hover:opacity-10 transition-opacity duration-300"></div>
                            <span class="relative flex items-center justify-center">
                                <svg class="w-5 h-5 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                                </svg>
                                <span class="text-sm lg:text-base">Refresh Data</span>
                            </span>
                        </button>
                        
                        <button onclick="contactUs()" class="group relative overflow-hidden bg-green-600 bg-opacity-80 hover:bg-opacity-100 backdrop-blur-sm border border-green-500 border-opacity-50 text-white font-semibold py-3 px-6 lg:px-8 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-2xl w-full">
                            <div class="absolute inset-0 bg-gradient-to-r from-white to-transparent opacity-0 group-hover:opacity-10 transition-opacity duration-300"></div>
                            <span class="relative flex items-center justify-center">
                                <svg class="w-5 h-5 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                                </svg>
                                <span class="text-sm lg:text-base">Hubungi Kami</span>
                            </span>
                        </button>
                        
                        <button onclick="autoExportData(event)" class="group relative overflow-hidden bg-orange-500 bg-opacity-80 hover:bg-opacity-100 backdrop-blur-sm border border-orange-400 border-opacity-50 text-white font-semibold py-3 px-6 lg:px-8 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-2xl w-full">
                            <div class="absolute inset-0 bg-gradient-to-r from-white to-transparent opacity-0 group-hover:opacity-10 transition-opacity duration-300"></div>
                            <span class="relative flex items-center justify-center">
                                <svg class="w-5 h-5 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                                </svg>
                                <span class="text-sm lg:text-base">Export Data</span>
                            </span>
                        </button>
                    </div>
                    
                    <!-- Live Updates Banner -->
                    <div class="relative">
                        <div class="overflow-hidden bg-white bg-opacity-10 backdrop-blur-sm rounded-2xl py-4 px-6 border border-white border-opacity-20">
                            <div class="flex items-center justify-center">
                                <div class="flex items-center space-x-2 mr-4">
                                    <div class="w-3 h-3 bg-green-400 rounded-full animate-pulse"></div>
                                    <span class="text-green-200 font-medium">LIVE</span>
                                </div>
                                <div class="scrolling-text whitespace-nowrap text-sm md:text-base font-medium text-white">
                                    üìä Dashboard terhubung dengan database real-time ‚Ä¢ Total Pelaporan: <span id="todayCount" class="font-bold text-yellow-300">Loading...</span> ‚Ä¢ Terakhir Update: <span id="lastUpdate" class="font-bold text-blue-200">-</span> ‚Ä¢ Status: <span class="text-green-300">Connected</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Dashboard Content -->
            <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                <!-- Statistics Cards -->
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-8">
                    <!-- Total Pelaporan -->
                    <div class="bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl p-4 sm:p-6 card-shadow slide-in">
                        <div class="flex items-center justify-between">
                            <div class="flex-1">
                                <p class="text-blue-100 text-xs sm:text-sm font-medium">Total Pelaporan</p>
                                <p class="text-2xl sm:text-3xl lg:text-4xl font-bold pulse-animation" id="totalReports">0</p>
                                <p class="text-blue-100 text-xs mt-1">+<span id="todayIncrease">0</span> hari ini</p>
                            </div>
                            <div class="text-3xl sm:text-4xl opacity-80 ml-2">üìä</div>
                        </div>
                    </div>

                    <!-- Kelahiran -->
                    <div class="bg-gradient-to-r from-green-500 to-green-600 text-white rounded-xl p-4 sm:p-6 card-shadow slide-in">
                        <div class="flex items-center justify-between">
                            <div class="flex-1">
                                <p class="text-green-100 text-xs sm:text-sm font-medium">Kelahiran</p>
                                <p class="text-2xl sm:text-3xl lg:text-4xl font-bold" id="birthCount">0</p>
                                <p class="text-green-100 text-xs mt-1"><span id="birthPercentage">0</span>% dari total</p>
                            </div>
                            <div class="text-3xl sm:text-4xl opacity-80 ml-2">üë∂</div>
                        </div>
                    </div>

                    <!-- Kematian -->
                    <div class="bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl p-4 sm:p-6 card-shadow slide-in">
                        <div class="flex items-center justify-between">
                            <div class="flex-1">
                                <p class="text-red-100 text-xs sm:text-sm font-medium">Kematian</p>
                                <p class="text-2xl sm:text-3xl lg:text-4xl font-bold" id="deathCount">0</p>
                                <p class="text-red-100 text-xs mt-1"><span id="deathPercentage">0</span>% dari total</p>
                            </div>
                            <div class="text-3xl sm:text-4xl opacity-80 ml-2">‚ö∞Ô∏è</div>
                        </div>
                    </div>

                    <!-- Lahir Mati -->
                    <div class="bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-xl p-4 sm:p-6 card-shadow slide-in">
                        <div class="flex items-center justify-between">
                            <div class="flex-1">
                                <p class="text-purple-100 text-xs sm:text-sm font-medium">Lahir Mati</p>
                                <p class="text-2xl sm:text-3xl lg:text-4xl font-bold" id="stillbirthCount">0</p>
                                <p class="text-purple-100 text-xs mt-1"><span id="stillbirthPercentage">0</span>% dari total</p>
                            </div>
                            <div class="text-3xl sm:text-4xl opacity-80 ml-2">üíî</div>
                        </div>
                    </div>
                </div>

                <!-- Charts Section -->
                <div class="grid grid-cols-1 xl:grid-cols-2 gap-6 lg:gap-8 mb-8">
                    <!-- Pie Chart - Jenis Pelaporan -->
                    <div class="bg-white rounded-xl p-4 sm:p-6 card-shadow">
                        <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4">
                            <h3 class="text-lg sm:text-xl font-bold text-gray-800 mb-2 sm:mb-0">üìà Distribusi Jenis Pelaporan</h3>
                            <div class="text-sm text-gray-500">Total: <span id="pieChartTotal">0</span></div>
                        </div>
                        <div class="relative h-64 sm:h-80">
                            <canvas id="reportTypeChart"></canvas>
                        </div>
                    </div>

                    <!-- Bar Chart - Per Kecamatan -->
                    <div class="bg-white rounded-xl p-4 sm:p-6 card-shadow">
                        <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4">
                            <h3 class="text-lg sm:text-xl font-bold text-gray-800 mb-2 sm:mb-0">üèòÔ∏è Pelaporan per Kecamatan</h3>
                            <select id="districtFilter" class="text-sm border rounded px-2 py-1 w-full sm:w-auto">
                                <option value="all">Semua Kecamatan</option>
                            </select>
                        </div>
                        <div class="relative h-64 sm:h-80">
                            <canvas id="districtChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Trend Chart -->
                <div class="bg-white rounded-xl p-4 sm:p-6 card-shadow mb-8">
                    <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4">
                        <h3 class="text-lg sm:text-xl font-bold text-gray-800 mb-2 sm:mb-0">üìÖ Tren Pelaporan Bulanan</h3>
                        <div class="flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 w-full sm:w-auto">
                            <select id="yearFilter" class="text-sm border rounded px-2 py-1 w-full sm:w-auto" onchange="updateTrendChart()">
                                <!-- Years will be populated dynamically -->
                            </select>
                        </div>
                    </div>
                    <div class="relative h-64 sm:h-80 lg:h-96">
                        <canvas id="trendChart"></canvas>
                    </div>
                </div>

                <!-- Download Forms Section -->
                <div class="bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl p-4 sm:p-6 lg:p-8 card-shadow mb-8 border border-indigo-100">
                    <div class="text-center mb-6 lg:mb-8">
                        <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl mb-4">
                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                            </svg>
                        </div>
                        <h3 class="text-xl sm:text-2xl lg:text-3xl font-bold text-gray-800 mb-2">üìã Download Formulir</h3>
                        <p class="text-gray-600 text-sm sm:text-base">Unduh formulir yang diperlukan untuk pelaporan peristiwa kependudukan</p>
                    </div>
                    
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6">
                        <!-- Formulir Akta Kelahiran -->
                        <a href="https://drive.google.com/file/d/1llhk2T3h0xY19qBAiaN6ewlzlS3Ewdh6/view?usp=drive_link" target="_blank" class="group relative overflow-hidden bg-white hover:bg-gradient-to-br hover:from-green-50 hover:to-green-100 rounded-xl p-4 sm:p-6 border-2 border-green-200 hover:border-green-300 transition-all duration-300 transform hover:scale-105 hover:shadow-xl">
                            <div class="absolute inset-0 bg-gradient-to-r from-green-400 to-green-600 opacity-0 group-hover:opacity-5 transition-opacity duration-300"></div>
                            <div class="relative text-center">
                                <div class="inline-flex items-center justify-center w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-r from-green-400 to-green-600 rounded-xl mb-3 sm:mb-4 group-hover:scale-110 transition-transform duration-300">
                                    <svg class="w-6 h-6 sm:w-8 sm:h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                                    </svg>
                                </div>
                                <h4 class="font-bold text-gray-800 text-sm sm:text-base lg:text-lg mb-2 group-hover:text-green-700 transition-colors duration-300">üë∂ Formulir Akta Kelahiran</h4>
                                <p class="text-xs sm:text-sm text-gray-600 mb-3 group-hover:text-green-600 transition-colors duration-300">Formulir untuk pelaporan kelahiran</p>
                                <div class="inline-flex items-center text-green-600 group-hover:text-green-700 font-medium text-xs sm:text-sm">
                                    <svg class="w-4 h-4 mr-1 group-hover:translate-x-1 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3"/>
                                    </svg>
                                    Download PDF
                                </div>
                            </div>
                        </a>

                        <!-- SPTJM Suami Istri -->
                        <a href="https://drive.google.com/file/d/1Yc30JRC7TDEYruBTNGEhZRrCY_f5omUM/view?usp=sharing" target="_blank" class="group relative overflow-hidden bg-white hover:bg-gradient-to-br hover:from-blue-50 hover:to-blue-100 rounded-xl p-4 sm:p-6 border-2 border-blue-200 hover:border-blue-300 transition-all duration-300 transform hover:scale-105 hover:shadow-xl">
                            <div class="absolute inset-0 bg-gradient-to-r from-blue-400 to-blue-600 opacity-0 group-hover:opacity-5 transition-opacity duration-300"></div>
                            <div class="relative text-center">
                                <div class="inline-flex items-center justify-center w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-r from-blue-400 to-blue-600 rounded-xl mb-3 sm:mb-4 group-hover:scale-110 transition-transform duration-300">
                                    <svg class="w-6 h-6 sm:w-8 sm:h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
                                    </svg>
                                </div>
                                <h4 class="font-bold text-gray-800 text-sm sm:text-base lg:text-lg mb-2 group-hover:text-blue-700 transition-colors duration-300">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ SPTJM Suami Istri</h4>
                                <p class="text-xs sm:text-sm text-gray-600 mb-3 group-hover:text-blue-600 transition-colors duration-300">Surat pernyataan kebenaran sebagai pasangan</p>
                                <div class="inline-flex items-center text-blue-600 group-hover:text-blue-700 font-medium text-xs sm:text-sm">
                                    <svg class="w-4 h-4 mr-1 group-hover:translate-x-1 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3"/>
                                    </svg>
                                    Download PDF
                                </div>
                            </div>
                        </a>

                        <!-- Formulir Akta Kematian -->
                        <a href="https://drive.google.com/file/d/1I8XrGjVlm9IeOmDEZ99ZlhivWc8zcV19/view?usp=drive_link" target="_blank" class="group relative overflow-hidden bg-white hover:bg-gradient-to-br hover:from-red-50 hover:to-red-100 rounded-xl p-4 sm:p-6 border-2 border-red-200 hover:border-red-300 transition-all duration-300 transform hover:scale-105 hover:shadow-xl">
                            <div class="absolute inset-0 bg-gradient-to-r from-red-400 to-red-600 opacity-0 group-hover:opacity-5 transition-opacity duration-300"></div>
                            <div class="relative text-center">
                                <div class="inline-flex items-center justify-center w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-r from-red-400 to-red-600 rounded-xl mb-3 sm:mb-4 group-hover:scale-110 transition-transform duration-300">
                                    <svg class="w-6 h-6 sm:w-8 sm:h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                                    </svg>
                                </div>
                                <h4 class="font-bold text-gray-800 text-sm sm:text-base lg:text-lg mb-2 group-hover:text-red-700 transition-colors duration-300">‚ö∞Ô∏è Formulir Akta Kematian</h4>
                                <p class="text-xs sm:text-sm text-gray-600 mb-3 group-hover:text-red-600 transition-colors duration-300">Formulir untuk pelaporan kematian</p>
                                <div class="inline-flex items-center text-red-600 group-hover:text-red-700 font-medium text-xs sm:text-sm">
                                    <svg class="w-4 h-4 mr-1 group-hover:translate-x-1 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3"/>
                                    </svg>
                                    Download PDF
                                </div>
                            </div>
                        </a>

                        <!-- Formulir Lahir Mati -->
                        <a href="https://drive.google.com/file/d/1W_2p6khEjzSMusdl6VCDC5zMr-JIjBhg/view?usp=drive_link" target="_blank" class="group relative overflow-hidden bg-white hover:bg-gradient-to-br hover:from-purple-50 hover:to-purple-100 rounded-xl p-4 sm:p-6 border-2 border-purple-200 hover:border-purple-300 transition-all duration-300 transform hover:scale-105 hover:shadow-xl">
                            <div class="absolute inset-0 bg-gradient-to-r from-purple-400 to-purple-600 opacity-0 group-hover:opacity-5 transition-opacity duration-300"></div>
                            <div class="relative text-center">
                                <div class="inline-flex items-center justify-center w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-r from-purple-400 to-purple-600 rounded-xl mb-3 sm:mb-4 group-hover:scale-110 transition-transform duration-300">
                                    <svg class="w-6 h-6 sm:w-8 sm:h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                                    </svg>
                                </div>
                                <h4 class="font-bold text-gray-800 text-sm sm:text-base lg:text-lg mb-2 group-hover:text-purple-700 transition-colors duration-300">üíî Formulir Lahir Mati</h4>
                                <p class="text-xs sm:text-sm text-gray-600 mb-3 group-hover:text-purple-600 transition-colors duration-300">Formulir untuk pelaporan lahir mati</p>
                                <div class="inline-flex items-center text-purple-600 group-hover:text-purple-700 font-medium text-xs sm:text-sm">
                                    <svg class="w-4 h-4 mr-1 group-hover:translate-x-1 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3"/>
                                    </svg>
                                    Download PDF
                                </div>
                            </div>
                        </a>
                    </div>
                    
                    <!-- Additional Info -->
                    <div class="mt-6 lg:mt-8 text-center">
                        <div class="bg-white bg-opacity-60 backdrop-blur-sm rounded-lg p-4 border border-indigo-200">
                            <div class="flex items-center justify-center mb-2">
                                <svg class="w-5 h-5 text-indigo-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                </svg>
                                <h4 class="font-semibold text-indigo-800">Petunjuk Download</h4>
                            </div>
                            <p class="text-sm text-indigo-700">
                                Klik pada formulir yang dibutuhkan untuk mengunduh file PDF. Pastikan formulir telah diisi lengkap sebelum diunggah melalui sistem pelaporan.
                            </p>
                        </div>
                    </div>
                </div>
            </main>

        </div>

        <!-- =================================================================== -->
        <!--                       HALAMAN TENTANG KAMI                          -->
        <!-- =================================================================== -->
        <div id="about-page" class="page-hidden">
            <!-- Header -->
            <header class="relative text-white py-24 md:py-40 overflow-hidden min-h-screen flex items-center">
                <!-- Enhanced Background with Multiple Layers -->
                <div class="absolute inset-0">
                    <!-- Custom Purple Background with Gradient Overlay -->
                    <div class="absolute inset-0" style="background: linear-gradient(135deg, #3E1E68 0%, #2D1B69 25%, #4A1E6B 50%, #3E1E68 75%, #2A1A5E 100%);"></div>
                    
                    <!-- Animated Geometric Shapes -->
                    <div class="absolute top-20 left-10 w-32 h-32 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full opacity-10 blur-2xl animate-pulse"></div>
                    <div class="absolute top-40 right-20 w-48 h-48 bg-gradient-to-br from-blue-400 to-teal-400 rounded-full opacity-15 blur-3xl animate-pulse" style="animation-delay: 1s;"></div>
                    <div class="absolute bottom-32 left-1/4 w-40 h-40 bg-gradient-to-br from-teal-400 to-green-400 rounded-full opacity-10 blur-2xl animate-pulse" style="animation-delay: 2s;"></div>
                    <div class="absolute bottom-20 right-1/3 w-36 h-36 bg-gradient-to-br from-pink-400 to-purple-400 rounded-full opacity-12 blur-2xl animate-pulse" style="animation-delay: 3s;"></div>
                    
                    <!-- Floating Particles -->
                    <div class="absolute top-1/4 left-1/3 w-2 h-2 bg-white rounded-full opacity-30 animate-ping" style="animation-delay: 0.5s;"></div>
                    <div class="absolute top-1/2 right-1/4 w-1 h-1 bg-cyan-300 rounded-full opacity-40 animate-ping" style="animation-delay: 1.5s;"></div>
                    <div class="absolute bottom-1/3 left-1/5 w-1.5 h-1.5 bg-purple-300 rounded-full opacity-35 animate-ping" style="animation-delay: 2.5s;"></div>
                    
                    <!-- Gradient Overlay for Depth -->
                    <div class="absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black opacity-20"></div>
                </div>
                
                <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-20">
                    <div class="space-y-12">
                        <!-- Main Title with Enhanced Effects -->
                        <div class="relative">
                            <div class="absolute inset-0 bg-gradient-to-r from-purple-600 via-pink-500 to-blue-500 blur-3xl opacity-30 animate-pulse"></div>
                            <h1 class="relative text-4xl sm:text-5xl md:text-6xl lg:text-8xl font-black mb-8 fade-in fade-in-delay-1 leading-tight">
                                <span class="block bg-gradient-to-r from-white via-cyan-100 to-blue-100 bg-clip-text text-transparent drop-shadow-2xl">
                                    Lahir Mati Pro Aktif
                                </span>
                            </h1>
                            <!-- Decorative Lines -->
                            <div class="flex justify-center space-x-4 mt-6">
                                <div class="w-16 h-1 bg-gradient-to-r from-transparent via-cyan-400 to-transparent rounded-full animate-pulse"></div>
                                <div class="w-8 h-1 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full animate-pulse" style="animation-delay: 0.5s;"></div>
                                <div class="w-16 h-1 bg-gradient-to-r from-transparent via-blue-400 to-transparent rounded-full animate-pulse" style="animation-delay: 1s;"></div>
                            </div>
                        </div>
                        
                        <!-- Enhanced Description Section -->
                        <div class="relative fade-in fade-in-delay-2">
                            <div class="relative bg-white bg-opacity-5 backdrop-blur-xl rounded-3xl p-8 md:p-12 border border-white border-opacity-10 shadow-2xl max-w-6xl mx-auto">
                                <div class="absolute -inset-1 bg-gradient-to-r from-purple-600 via-pink-500 to-blue-500 rounded-3xl blur-lg opacity-20 animate-pulse"></div>
                                <div class="relative">
                                    <p class="text-xl sm:text-2xl md:text-3xl font-bold text-white max-w-5xl mx-auto leading-relaxed mb-6 drop-shadow-lg">
                                        Mempercepat Layanan Dasar dan Meningkatkan Kualitas Data Kependudukan Kabupaten Kepulauan Tanimbar
                                    </p>
                                    <div class="flex justify-center mb-6">
                                        <div class="w-40 h-1.5 bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 rounded-full shadow-lg"></div>
                                    </div>
                                    <p class="text-lg sm:text-xl md:text-2xl font-medium text-gray-100 max-w-4xl mx-auto leading-relaxed drop-shadow-lg">
                                        Platform Digital Khusus untuk Tenaga Kesehatan yang digunakan untuk kebutuhan Pelaporan Kelahiran, Kematian, dan Lahir Mati yang Akurat, Cepat, dan Terintegrasi dengan Dinas Kependudukan dan Pencatatan Kabupaten Kepulauan Tanimbar
                                    </p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Enhanced Interactive Elements -->
                        <div class="mt-16 fade-in fade-in-delay-3 space-y-12">
                            <!-- Main CTA Badge -->
                            <div class="relative inline-block group">
                                <div class="absolute -inset-4 bg-gradient-to-r from-teal-400 via-blue-400 to-purple-400 rounded-full blur-2xl opacity-40 group-hover:opacity-60 animate-pulse transition-opacity duration-500"></div>
                                <div class="relative inline-flex items-center px-12 py-6 bg-gradient-to-r from-cyan-500 via-blue-500 to-purple-500 rounded-full text-lg md:text-xl font-bold shadow-2xl hover:shadow-3xl transition-all duration-500 hover:scale-110 border-2 border-white border-opacity-20 group">
                                    <span class="mr-4 text-4xl animate-bounce group-hover:animate-spin transition-all duration-300">üèùÔ∏è</span>
                                    <span class="text-white drop-shadow-lg">
                                        Solusi Digital untuk Kepulauan Tanimbar
                                    </span>
                                    <div class="absolute inset-0 bg-gradient-to-r from-white to-transparent opacity-0 group-hover:opacity-20 rounded-full transition-opacity duration-300"></div>
                                </div>
                            </div>
                            
                            <!-- Enhanced Feature Icons -->
                            <div class="flex flex-wrap justify-center gap-8 md:gap-12 mt-16">
                                <div class="flex flex-col items-center space-y-4 group">
                                    <div class="relative">
                                        <div class="absolute -inset-2 bg-gradient-to-r from-teal-400 to-blue-400 rounded-full blur-xl opacity-40 group-hover:opacity-60 animate-pulse transition-opacity duration-300"></div>
                                        <div class="relative w-20 h-20 bg-gradient-to-br from-teal-400 via-cyan-400 to-blue-400 rounded-full flex items-center justify-center shadow-2xl group-hover:scale-110 transition-transform duration-300 border-2 border-white border-opacity-20">
                                            <span class="text-3xl group-hover:animate-bounce">‚ö°</span>
                                        </div>
                                    </div>
                                    <div class="text-center">
                                        <span class="text-lg font-bold text-white drop-shadow-lg block">Cepat</span>
                                        <span class="text-sm text-gray-200 opacity-80">Lightning Fast</span>
                                    </div>
                                </div>
                                
                                <div class="flex flex-col items-center space-y-4 group">
                                    <div class="relative">
                                        <div class="absolute -inset-2 bg-gradient-to-r from-blue-400 to-green-400 rounded-full blur-xl opacity-40 group-hover:opacity-60 animate-pulse transition-opacity duration-300" style="animation-delay: 0.5s;"></div>
                                        <div class="relative w-20 h-20 bg-gradient-to-br from-blue-400 via-indigo-400 to-green-400 rounded-full flex items-center justify-center shadow-2xl group-hover:scale-110 transition-transform duration-300 border-2 border-white border-opacity-20">
                                            <span class="text-3xl group-hover:animate-bounce">üéØ</span>
                                        </div>
                                    </div>
                                    <div class="text-center">
                                        <span class="text-lg font-bold text-white drop-shadow-lg block">Akurat</span>
                                        <span class="text-sm text-gray-200 opacity-80">Precise Data</span>
                                    </div>
                                </div>
                                
                                <div class="flex flex-col items-center space-y-4 group">
                                    <div class="relative">
                                        <div class="absolute -inset-2 bg-gradient-to-r from-green-400 to-purple-400 rounded-full blur-xl opacity-40 group-hover:opacity-60 animate-pulse transition-opacity duration-300" style="animation-delay: 1s;"></div>
                                        <div class="relative w-20 h-20 bg-gradient-to-br from-green-400 via-teal-400 to-purple-400 rounded-full flex items-center justify-center shadow-2xl group-hover:scale-110 transition-transform duration-300 border-2 border-white border-opacity-20">
                                            <span class="text-3xl group-hover:animate-bounce">üîó</span>
                                        </div>
                                    </div>
                                    <div class="text-center">
                                        <span class="text-lg font-bold text-white drop-shadow-lg block">Terintegrasi</span>
                                        <span class="text-sm text-gray-200 opacity-80">Connected System</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Main Content -->
            <main class="relative">
                <!-- About Section -->
                <section class="py-16 md:py-24 bg-gradient-to-br from-indigo-50 via-white to-cyan-50 relative overflow-hidden">
                    <div class="absolute top-0 left-0 w-full h-full">
                        <div class="absolute top-20 left-20 w-64 h-64 bg-gradient-to-br from-purple-200 to-pink-200 rounded-full opacity-20 blur-3xl"></div>
                        <div class="absolute bottom-20 right-20 w-80 h-80 bg-gradient-to-br from-blue-200 to-teal-200 rounded-full opacity-20 blur-3xl"></div>
                    </div>
                    
                    <div class="max-w-7xl mx-auto px-4 relative z-10">
                        <div class="text-center mb-16 md:mb-20">
                            <div class="inline-block mb-6">
                                <span class="px-8 py-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white text-xl font-bold rounded-full shadow-lg">
                                    üí´ Tentang Aplikasi
                                </span>
                            </div>
                            <h2 class="text-2xl sm:text-3xl md:text-4xl font-black gradient-text mb-8 leading-tight">
                                Inovasi Digital untuk
                                <span class="block bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent">
                                    Masa Depan Kabupaten Kepulauan Tanimbar
                                </span>
                            </h2>
                            <div class="w-32 h-1.5 bg-gradient-to-r from-purple-600 via-pink-500 to-blue-600 mx-auto rounded-full mb-6"></div>
                            <p class="text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed">
                                Meningkatkan Kualitas Database Kependudukan untuk kebutuhan Pelayanan Publik dan Perencanaan Pembangunan di Kabupaten Kepulauan Tanimbar
                            </p>
                        </div>
                        
                        <div class="grid lg:grid-cols-1 gap-12 lg:gap-16 items-center">
                            <div class="relative group">
                                <div class="absolute -inset-4 bg-gradient-to-r from-teal-600 via-blue-600 to-green-600 rounded-3xl blur-xl opacity-20 group-hover:opacity-30 transition-opacity duration-500"></div>
                                <div class="relative glass-effect rounded-3xl p-8 sm:p-10 lg:p-12 card-hover border-2 border-white shadow-2xl">
                                    <div class="mb-8 text-center">
                                        <div class="relative inline-block">
                                            <div class="w-20 h-20 bg-gradient-to-br from-teal-500 via-blue-500 to-green-500 rounded-3xl flex items-center justify-center mb-6 shadow-2xl transform group-hover:scale-110 transition-transform duration-300 mx-auto">
                                                <svg class="w-10 h-10 text-white" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                                </svg>
                                            </div>
                                            <div class="absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full animate-pulse"></div>
                                        </div>
                                    </div>
                                    <div class="space-y-6">
                                        <p class="text-lg text-gray-700 leading-relaxed">
                                            <strong class="bg-gradient-to-r from-teal-600 to-blue-600 bg-clip-text text-transparent">Aplikasi Lahir Mati Pro Aktif</strong> merupakan inisiatif strategis Pemerintah Kabupaten Kepulauan Tanimbar untuk menjembatani kesenjangan pelaporan peristiwa kependudukan antara garis depan layanan kesehatan di desa dan kecamatan dengan petugas Dinas Kependudukan dan Pencatatan Sipil (Dukcapil).
                                        </p>
                                        <p class="text-lg text-gray-700 leading-relaxed">
                                            Dibangun dengan pemahaman mendalam terhadap tantangan geografis kepulauan, aplikasi ini mentransformasi proses pelaporan yang sebelumnya manual dan memakan waktu menjadi proses digital yang dapat dilakukan dari mana saja, kapan saja. Setiap laporan yang masuk bukan hanya sekadar data, tetapi merupakan fondasi bagi perencanaan pembangunan kesehatan, sosial, dan ekonomi yang tepat sasaran.
                                        </p>
                                        <div class="bg-gradient-to-r from-teal-50 to-blue-50 rounded-2xl p-6 border border-teal-100">
                                            <div class="grid md:grid-cols-3 gap-4 text-center">
                                                <div class="flex flex-col items-center">
                                                    <div class="w-12 h-12 bg-gradient-to-r from-teal-500 to-blue-500 rounded-full flex items-center justify-center mb-2">
                                                        <span class="text-white font-bold text-xl">üè•</span>
                                                    </div>
                                                    <span class="text-sm font-semibold text-gray-700">Puskesmas & Pustu</span>
                                                </div>
                                                <div class="flex flex-col items-center">
                                                    <div class="w-12 h-12 bg-gradient-to-r from-blue-500 to-green-500 rounded-full flex items-center justify-center mb-2">
                                                        <span class="text-white font-bold text-xl">üì±</span>
                                                    </div>
                                                    <span class="text-sm font-semibold text-gray-700">Platform Digital</span>
                                                </div>
                                                <div class="flex flex-col items-center">
                                                    <div class="w-12 h-12 bg-gradient-to-r from-green-500 to-teal-500 rounded-full flex items-center justify-center mb-2">
                                                        <span class="text-white font-bold text-xl">üèõÔ∏è</span>
                                                    </div>
                                                    <span class="text-sm font-semibold text-gray-700">Dinas Dukcapil</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Why Important Section -->
                <section class="py-16 md:py-24 bg-gradient-to-br from-slate-900 via-blue-900 to-teal-900 relative overflow-hidden">
                    <div class="absolute inset-0">
                        <div class="absolute top-0 left-1/4 w-96 h-96 bg-teal-500 rounded-full opacity-10 blur-3xl animate-pulse"></div>
                        <div class="absolute bottom-0 right-1/4 w-80 h-80 bg-blue-500 rounded-full opacity-10 blur-3xl animate-pulse" style="animation-delay: 1s;"></div>
                        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-72 h-72 bg-green-500 rounded-full opacity-5 blur-3xl animate-pulse" style="animation-delay: 2s;"></div>
                    </div>
                    
                    <div class="max-w-7xl mx-auto px-4 relative z-10">
                        <div class="text-center mb-16 md:mb-20">
                            <div class="inline-block mb-6">
                                <span class="px-8 py-4 bg-gradient-to-r from-teal-500 to-blue-500 text-white text-xl font-bold rounded-full shadow-2xl border border-teal-400">
                                    ‚ùì Mengapa Penting
                                </span>
                            </div>
                            <h2 class="text-2xl sm:text-3xl md:text-4xl font-black text-white mb-8 leading-tight">
                                Mengapa Lahir Mati Pro Aktif
                                <span class="block bg-gradient-to-r from-teal-400 via-blue-400 to-green-400 bg-clip-text text-transparent">
                                    Sangat Penting?
                                </span>
                            </h2>
                            <div class="w-32 h-1.5 bg-gradient-to-r from-teal-400 via-blue-400 to-green-400 mx-auto rounded-full mb-6"></div>

                        </div>
                        
                        <div class="grid lg:grid-cols-3 gap-8 lg:gap-12">
                            <!-- For Medical Staff -->
                            <div class="relative group">
                                <div class="absolute -inset-6 bg-gradient-to-r from-red-600 via-pink-600 to-red-600 rounded-3xl blur-2xl opacity-20 group-hover:opacity-30 transition-opacity duration-700"></div>
                                <div class="relative bg-white bg-opacity-10 backdrop-blur-xl rounded-3xl p-8 sm:p-10 border border-white border-opacity-20 shadow-2xl card-hover h-full">
                                    <div class="text-center mb-8">
                                        <div class="relative inline-block mb-6">
                                            <div class="absolute inset-0 bg-gradient-to-r from-red-400 to-pink-400 rounded-full blur-xl opacity-50 animate-pulse"></div>
                                            <div class="relative w-20 h-20 bg-gradient-to-br from-red-500 via-pink-500 to-red-600 rounded-full flex items-center justify-center shadow-2xl transform group-hover:scale-110 transition-transform duration-300">
                                                <span class="text-3xl">üë©‚Äç‚öïÔ∏è</span>
                                            </div>
                                        </div>
                                        <h3 class="text-2xl sm:text-3xl font-black text-white mb-4">
                                            Untuk Tenaga Medis
                                        </h3>
                                    </div>
                                    <div class="bg-gradient-to-r from-red-500 to-pink-500 bg-opacity-20 rounded-xl p-4 border border-red-400 border-opacity-30">
                                        <h4 class="font-bold text-white mb-2">üéØ Berkontribusi Langsung</h4>
                                        <p class="text-sm text-gray-200">Anda adalah ujung tombak dalam memastikan setiap warga Tanimbar tercatat secara hukum sejak dari detik pertama kehidupannya hingga akhir hayatnya.</p>
                                    </div>
                                </div>
                            </div>

                            <!-- For Community -->
                            <div class="relative group">
                                <div class="absolute -inset-6 bg-gradient-to-r from-blue-600 via-teal-600 to-blue-600 rounded-3xl blur-2xl opacity-20 group-hover:opacity-30 transition-opacity duration-700"></div>
                                <div class="relative bg-white bg-opacity-10 backdrop-blur-xl rounded-3xl p-8 sm:p-10 border border-white border-opacity-20 shadow-2xl card-hover h-full">
                                    <div class="text-center mb-8">
                                        <div class="relative inline-block mb-6">
                                            <div class="absolute inset-0 bg-gradient-to-r from-blue-400 to-teal-400 rounded-full blur-xl opacity-50 animate-pulse"></div>
                                            <div class="relative w-20 h-20 bg-gradient-to-br from-blue-500 via-teal-500 to-blue-600 rounded-full flex items-center justify-center shadow-2xl transform group-hover:scale-110 transition-transform duration-300">
                                                <span class="text-3xl">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</span>
                                            </div>
                                        </div>
                                        <h3 class="text-2xl sm:text-3xl font-black text-white mb-4">
                                            Untuk Masyarakat
                                        </h3>
                                    </div>
                                    <div class="space-y-4">
                                        <div class="bg-gradient-to-r from-blue-500 to-teal-500 bg-opacity-20 rounded-xl p-4 border border-blue-400 border-opacity-30">
                                            <h4 class="font-bold text-white mb-2">‚öñÔ∏è Kepastian Hukum</h4>
                                            <p class="text-sm text-gray-200">Memastikan hak-hak dasar anak (akta kelahiran) dan kepastian hukum bagi ahli waris (akta kematian) dapat diproses tanpa delay.</p>
                                        </div>
                                        <div class="bg-gradient-to-r from-teal-500 to-blue-500 bg-opacity-20 rounded-xl p-4 border border-teal-400 border-opacity-30">
                                            <h4 class="font-bold text-white mb-2">üõ°Ô∏è Perlindungan Sosial</h4>
                                            <p class="text-sm text-gray-200">Data yang akurat dan cepat memungkinkan program bantuan sosial, BPJS, dan program pemerintah lainnya tepat sasaran.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- For Government -->
                            <div class="relative group">
                                <div class="absolute -inset-6 bg-gradient-to-r from-green-600 via-emerald-600 to-green-600 rounded-3xl blur-2xl opacity-20 group-hover:opacity-30 transition-opacity duration-700"></div>
                                <div class="relative bg-white bg-opacity-10 backdrop-blur-xl rounded-3xl p-8 sm:p-10 border border-white border-opacity-20 shadow-2xl card-hover h-full">
                                    <div class="text-center mb-8">
                                        <div class="relative inline-block mb-6">
                                            <div class="absolute inset-0 bg-gradient-to-r from-green-400 to-emerald-400 rounded-full blur-xl opacity-50 animate-pulse"></div>
                                            <div class="relative w-20 h-20 bg-gradient-to-br from-green-500 via-emerald-500 to-green-600 rounded-full flex items-center justify-center shadow-2xl transform group-hover:scale-110 transition-transform duration-300">
                                                <span class="text-3xl">üèõÔ∏è</span>
                                            </div>
                                        </div>
                                        <h3 class="text-2xl sm:text-3xl font-black text-white mb-4">
                                            Untuk Pemerintah
                                        </h3>
                                    </div>
                                    <div class="space-y-4">
                                        <div class="bg-gradient-to-r from-green-500 to-emerald-500 bg-opacity-20 rounded-xl p-4 border border-green-400 border-opacity-30">
                                            <h4 class="font-bold text-white mb-2">üìä Data Real-Time</h4>
                                            <p class="text-sm text-gray-200">Mendapatkan data vital yang akurat dan mutakhir untuk keperluan perencanaan kesehatan, alokasi anggaran, dan pemetaan kebijakan.</p>
                                        </div>
                                        <div class="bg-gradient-to-r from-emerald-500 to-green-500 bg-opacity-20 rounded-xl p-4 border border-emerald-400 border-opacity-30">
                                            <h4 class="font-bold text-white mb-2">üèÜ Good Governance</h4>
                                            <p class="text-sm text-gray-200">Mewujudkan transparansi dan akuntabilitas dalam layanan administrasi kependudukan.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </main>
        </div>

        <!-- =================================================================== -->
        <!--                        HALAMAN KONTAK KAMI                          -->
        <!-- =================================================================== -->
        <div id="contact-page" class="page-hidden">
            <!-- New Modern Header -->
            <header class="relative bg-gradient-to-br from-blue-900 via-blue-800 to-indigo-900 text-white overflow-hidden">
                <div class="absolute inset-0">
                    <div class="absolute top-20 left-10 w-32 h-32 bg-blue-400/10 rounded-full blur-xl animate-pulse"></div>
                    <div class="absolute top-40 right-20 w-24 h-24 bg-cyan-400/15 rounded-2xl rotate-45 animate-bounce" style="animation-duration: 3s;"></div>
                    <div class="absolute bottom-32 left-1/4 w-20 h-20 bg-indigo-400/10 rounded-full animate-pulse" style="animation-delay: 1s;"></div>
                    <div class="absolute bottom-20 right-1/3 w-16 h-16 bg-blue-300/10 rounded-lg rotate-12 animate-bounce" style="animation-delay: 2s; animation-duration: 4s;"></div>
                    <div class="absolute inset-0 opacity-5">
                        <svg class="w-full h-full" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <pattern id="modern-grid-contact" width="20" height="20" patternUnits="userSpaceOnUse">
                                    <path d="M 20 0 L 0 0 0 20" fill="none" stroke="white" stroke-width="0.5"/>
                                    <circle cx="10" cy="10" r="1" fill="white" opacity="0.3"/>
                                </pattern>
                            </defs>
                            <rect width="100%" height="100%" fill="url(#modern-grid-contact)"/>
                        </svg>
                    </div>
                </div>

                <!-- Main Header Content -->
                <div class="relative z-10 px-4 py-16 sm:py-20 lg:py-24">
                    <div class="max-w-6xl mx-auto">
                        <div class="text-center mb-12">
                            <div class="relative inline-block group">
                                <div class="absolute inset-0 bg-gradient-to-r from-blue-400 to-cyan-400 rounded-full blur-3xl opacity-40 scale-150 group-hover:opacity-60 transition-opacity duration-500"></div>
                                <div class="relative bg-white/15 backdrop-blur-xl rounded-full p-6 sm:p-8 border border-white/20 shadow-2xl group-hover:scale-110 transition-transform duration-500">
                                    <svg class="w-12 h-12 sm:w-16 sm:h-16 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <!-- Title Section -->
                        <div class="text-center mb-16">
                            <h1 class="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold mb-6 leading-tight">
                                <span class="bg-gradient-to-r from-white via-blue-100 to-cyan-200 bg-clip-text text-transparent">
                                    Kontak Kami
                                </span>
                            </h1>
                            <div class="flex items-center justify-center mb-8">
                                <div class="w-16 sm:w-24 h-0.5 bg-gradient-to-r from-transparent via-white/60 to-transparent"></div>
                                <div class="mx-4 w-3 h-3 bg-gradient-to-r from-blue-400 to-cyan-400 rounded-full shadow-lg"></div>
                                <div class="w-16 sm:w-24 h-0.5 bg-gradient-to-r from-transparent via-white/60 to-transparent"></div>
                            </div>
                            <p class="text-xl sm:text-2xl md:text-3xl text-white/90 font-light mb-4 max-w-4xl mx-auto">
                                Hubungi Kami Kapan Saja
                            </p>
                            <p class="text-base sm:text-lg text-white/70 max-w-4xl mx-auto">
                                Layanan Lahir Mati Pro Aktif Dinas Kependudukan dan Pencatatan Sipil Kabupaten Kepulauan Tanimbar
                            </p>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Main Content -->
            <div class="max-w-6xl mx-auto px-4 py-12 sm:py-16">
                <!-- Contact Form -->
                <div class="relative overflow-hidden bg-white rounded-3xl shadow-2xl border border-gray-100">
                    <div class="absolute inset-0 opacity-5">
                        <svg class="w-full h-full" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <pattern id="elegant-pattern-contact" x="0" y="0" width="60" height="60" patternUnits="userSpaceOnUse">
                                    <circle cx="30" cy="30" r="1.5" fill="#3B82F6"/>
                                    <circle cx="0" cy="0" r="1" fill="#8B5CF6"/>
                                    <circle cx="60" cy="60" r="1" fill="#10B981"/>
                                </pattern>
                            </defs>
                            <rect width="100%" height="100%" fill="url(#elegant-pattern-contact)"/>
                        </svg>
                    </div>
                    
                    <div class="absolute top-8 right-8 w-20 h-20 bg-gradient-to-br from-blue-400/20 to-purple-500/20 rounded-full blur-xl"></div>
                    <div class="absolute bottom-8 left-8 w-16 h-16 bg-gradient-to-tr from-green-400/20 to-blue-500/20 rounded-full blur-xl"></div>
                    
                    <div class="relative z-10 p-6 sm:p-10 lg:p-16">
                        <div class="text-center mb-12">
                            <div class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-3xl mb-8 shadow-xl transform hover:scale-105 transition-transform duration-300">
                                <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                                </svg>
                            </div>
                            <h2 class="text-4xl sm:text-5xl lg:text-6xl font-bold bg-gradient-to-r from-gray-800 via-blue-600 to-purple-600 bg-clip-text text-transparent mb-6 leading-tight">
                                Kirim Pesan
                            </h2>
                            <div class="w-24 h-1 bg-gradient-to-r from-blue-500 to-purple-600 mx-auto rounded-full mb-6"></div>
                            <p class="text-gray-600 text-xl max-w-3xl mx-auto leading-relaxed font-light">
                                Sampaikan pertanyaan, saran, atau keluhan Anda. Tim kami siap membantu dengan respon cepat dalam 24 jam.
                            </p>
                        </div>

                        <!-- Form Section -->
                        <form id="contactForm" class="max-w-5xl mx-auto" onsubmit="handleContactSubmit(event)">
                            <div class="grid gap-8">
                                <div class="grid lg:grid-cols-2 gap-8">
                                    <div class="group">
                                        <label class="block text-gray-800 font-bold mb-4 text-lg">Nama Lengkap *</label>
                                        <div class="relative">
                                            <div class="absolute inset-y-0 left-0 pl-6 flex items-center pointer-events-none">
                                                <svg class="w-6 h-6 text-gray-400 group-focus-within:text-blue-500 transition-colors duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
                                            </div>
                                            <input type="text" name="nama" class="w-full pl-16 pr-6 py-5 bg-gray-50 border-2 border-gray-200 rounded-2xl focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-300 text-gray-800 placeholder-gray-500 text-lg font-medium shadow-sm hover:shadow-lg" placeholder="Masukkan nama lengkap Anda" required>
                                        </div>
                                    </div>
                                    <div class="group">
                                        <label class="block text-gray-800 font-bold mb-4 text-lg">Alamat Email *</label>
                                        <div class="relative">
                                            <div class="absolute inset-y-0 left-0 pl-6 flex items-center pointer-events-none">
                                                <svg class="w-6 h-6 text-gray-400 group-focus-within:text-blue-500 transition-colors duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"></path></svg>
                                            </div>
                                            <input type="email" name="email" class="w-full pl-16 pr-6 py-5 bg-gray-50 border-2 border-gray-200 rounded-2xl focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-300 text-gray-800 placeholder-gray-500 text-lg font-medium shadow-sm hover:shadow-lg" placeholder="nama@email.com" required>
                                        </div>
                                    </div>
                                </div>
                                <div class="group">
                                    <label class="block text-gray-800 font-bold mb-4 text-lg">Nomor Telepon</label>
                                    <div class="relative">
                                        <div class="absolute inset-y-0 left-0 pl-6 flex items-center pointer-events-none">
                                            <svg class="w-6 h-6 text-gray-400 group-focus-within:text-blue-500 transition-colors duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg>
                                        </div>
                                        <input type="tel" name="telepon" class="w-full pl-16 pr-6 py-5 bg-gray-50 border-2 border-gray-200 rounded-2xl focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-300 text-gray-800 placeholder-gray-500 text-lg font-medium shadow-sm hover:shadow-lg" placeholder="+62 812-3456-7890">
                                    </div>
                                </div>
                                <div class="group">
                                    <label class="block text-gray-800 font-bold mb-4 text-lg">Pesan Anda *</label>
                                    <div class="relative">
                                        <textarea rows="6" name="pesan" class="w-full px-6 py-5 bg-gray-50 border-2 border-gray-200 rounded-2xl focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-300 text-gray-800 placeholder-gray-500 resize-none text-lg font-medium shadow-sm hover:shadow-lg" placeholder="Tulis pesan, pertanyaan, atau keluhan Anda di sini..." required></textarea>
                                        <div class="absolute top-5 right-6">
                                            <svg class="w-6 h-6 text-gray-400 group-focus-within:text-blue-500 transition-colors duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path></svg>
                                        </div>
                                    </div>
                                </div>
                                <div class="flex flex-col sm:flex-row gap-6 justify-center pt-8">
                                    <button type="submit" class="group relative overflow-hidden bg-gradient-to-r from-blue-600 via-blue-700 to-purple-700 text-white px-10 py-5 rounded-2xl font-bold text-xl shadow-2xl hover:shadow-3xl transform hover:scale-105 hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-4 min-w-[240px]">
                                        <span class="relative z-10">Kirim via Email</span>
                                        <svg class="w-6 h-6 relative z-10 group-hover:translate-x-2 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
                                        <div class="absolute inset-0 bg-gradient-to-r from-blue-700 via-purple-700 to-blue-800 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                                    </button>
                                    <button type="button" onclick="sendWhatsApp()" class="group relative overflow-hidden bg-gradient-to-r from-green-500 via-green-600 to-emerald-600 text-white px-10 py-5 rounded-2xl font-bold text-xl shadow-2xl hover:shadow-3xl transform hover:scale-105 hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-4 min-w-[240px]">
                                        <span class="relative z-10">Kirim via WhatsApp</span>
                                        <svg class="w-6 h-6 relative z-10 group-hover:scale-125 transition-transform duration-300" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.465 3.516"/></svg>
                                        <div class="absolute inset-0 bg-gradient-to-r from-green-600 via-emerald-600 to-green-700 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- Footer Umum -->
    <footer class="bg-gradient-to-r from-blue-900 to-indigo-900 text-white py-8">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="text-blue-200 text-sm">
                &copy; 2024 Lahir Mati Pro Aktif | DukCapil Kab. Kepulauan Tanimbar
            </p>
        </div>
    </footer>

    <!-- =================================================================== -->
    <!--                   MODAL-MODAL (Di luar Kontainer)                   -->
    <!-- =================================================================== -->
    
    <!-- Form Login Modal -->
    <div id="formLoginModal" class="fixed inset-0 bg-black bg-opacity-60 hidden items-center justify-center z-50 p-4 login-modal">
        <div class="bg-white rounded-2xl max-w-md w-full mx-4 shadow-2xl form-floating">
            <div class="relative bg-gradient-to-r from-blue-500 to-blue-600 p-6 rounded-t-2xl">
                <div class="absolute inset-0 bg-black opacity-10 rounded-t-2xl"></div>
                <div class="relative flex justify-between items-center">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-white bg-opacity-20 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/></svg>
                        </div>
                        <h2 class="text-xl font-bold text-white">üîê Login Form Pelaporan</h2>
                    </div>
                    <button onclick="closeFormLoginModal()" class="w-8 h-8 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg flex items-center justify-center text-white hover:text-gray-200 transition-all duration-300"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg></button>
                </div>
            </div>
            <div class="p-6">
                <div class="mb-6"><div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4"><div class="flex items-center mb-2"><svg class="w-5 h-5 text-blue-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg><h4 class="font-semibold text-blue-800">Akses Form Pelaporan</h4></div><p class="text-sm text-blue-700">Masukkan username dan password untuk mengakses form pelaporan baru.</p></div></div>
                <form id="formLoginForm" class="space-y-4">
                    <div class="space-y-2"><label class="block text-sm font-semibold text-gray-700">Username</label><input type="text" id="formLoginUsername" required class="input-focus w-full px-4 py-3 border-2 border-blue-200 rounded-xl focus:ring-4 focus:ring-blue-500 focus:border-blue-500 text-sm bg-white shadow-sm" placeholder="Masukkan username petugas"></div>
                    <div class="space-y-2"><label class="block text-sm font-semibold text-gray-700">Password</label><input type="password" id="formLoginPassword" required class="input-focus w-full px-4 py-3 border-2 border-blue-200 rounded-xl focus:ring-4 focus:ring-blue-500 focus:border-blue-500 text-sm bg-white shadow-sm" placeholder="Masukkan password petugas"></div>
                    <div id="formLoginError" class="hidden bg-red-50 border border-red-200 rounded-lg p-3"><div class="flex items-center"><svg class="w-4 h-4 text-red-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg><span class="text-sm text-red-700" id="formLoginErrorText">Username atau password salah!</span></div></div>
                    <div class="flex space-x-3 pt-4">
                        <button type="button" onclick="closeFormLoginModal()" class="flex-1 bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-4 rounded-xl transition-colors duration-300">Batal</button>
                        <button type="submit" id="formLoginBtn" class="flex-1 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-bold py-3 px-4 rounded-xl transition-all duration-300 transform hover:scale-105"><span id="formLoginBtnText">üîì Login Petugas</span><span id="formLoginBtnLoading" class="hidden">‚è≥ Memverifikasi...</span></button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Export Login Modal -->
    <div id="loginModal" class="fixed inset-0 bg-black bg-opacity-60 hidden items-center justify-center z-50 p-4 login-modal">
        <div class="bg-white rounded-2xl max-w-md w-full mx-4 shadow-2xl form-floating">
            <div class="relative bg-gradient-to-r from-orange-500 to-orange-600 p-6 rounded-t-2xl">
                <div class="absolute inset-0 bg-black opacity-10 rounded-t-2xl"></div>
                <div class="relative flex justify-between items-center">
                    <div class="flex items-center space-x-3"><div class="w-10 h-10 bg-white bg-opacity-20 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/></svg></div><h2 class="text-xl font-bold text-white">üîê Login Export Data</h2></div>
                    <button onclick="closeLoginModal()" class="w-8 h-8 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg flex items-center justify-center text-white hover:text-gray-200 transition-all duration-300"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg></button>
                </div>
            </div>
            <div class="p-6">
                <div class="mb-6"><div class="bg-orange-50 border border-orange-200 rounded-lg p-4 mb-4"><div class="flex items-center mb-2"><svg class="w-5 h-5 text-orange-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg><h4 class="font-semibold text-orange-800">Login Export Data</h4></div><p class="text-sm text-orange-700">Masukkan username dan password untuk mengakses export data.</p></div></div>
                <form id="loginForm" class="space-y-4">
                    <div class="space-y-2"><label class="block text-sm font-semibold text-gray-700">Username</label><input type="text" id="loginUsername" required class="input-focus w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:ring-4 focus:ring-orange-500 focus:border-orange-500 text-sm bg-white shadow-sm" placeholder="Masukkan username admin"></div>
                    <div class="space-y-2"><label class="block text-sm font-semibold text-gray-700">Password</label><input type="password" id="loginPassword" required class="input-focus w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:ring-4 focus:ring-orange-500 focus:border-orange-500 text-sm bg-white shadow-sm" placeholder="Masukkan password admin"></div>
                    <div id="loginError" class="hidden bg-red-50 border border-red-200 rounded-lg p-3"><div class="flex items-center"><svg class="w-4 h-4 text-red-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg><span class="text-sm text-red-700" id="loginErrorText">Username atau password salah!</span></div></div>
                    <div class="flex space-x-3 pt-4">
                        <button type="button" onclick="closeLoginModal()" class="flex-1 bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-4 rounded-xl transition-colors duration-300">Batal</button>
                        <button type="submit" id="loginBtn" class="flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-4 rounded-xl transition-all duration-300 transform hover:scale-105"><span id="loginBtnText">üîì Login Admin</span><span id="loginBtnLoading" class="hidden">‚è≥ Memverifikasi...</span></button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Form Modal -->
    <div id="formModal" class="fixed inset-0 bg-black bg-opacity-60 hidden items-center justify-center z-50 p-2 sm:p-4 form-modal">
        <div class="bg-white rounded-2xl lg:rounded-3xl max-w-6xl w-full max-h-[95vh] overflow-y-auto mx-2 sm:mx-4 shadow-2xl form-floating">
            <div class="relative bg-gradient-to-r from-blue-600 via-purple-600 to-blue-800 p-4 sm:p-6 lg:p-8 rounded-t-2xl lg:rounded-t-3xl"><div class="absolute inset-0 bg-black opacity-10 rounded-t-2xl lg:rounded-t-3xl"></div><div class="relative flex justify-between items-center"><div class="flex-1 text-center"><h2 class="text-lg sm:text-xl lg:text-3xl xl:text-4xl font-bold text-white leading-tight">Registrasi Lahir Mati Pro Aktif</h2></div><button onclick="closeForm()" class="w-10 h-10 sm:w-12 sm:h-12 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-xl flex items-center justify-center text-white hover:text-gray-200 transition-all duration-300 backdrop-blur-sm border border-white border-opacity-30 flex-shrink-0 ml-4"><svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg></button></div></div>
            <div class="p-4 sm:p-6 lg:p-8">
                <form id="reportForm" class="space-y-6 lg:space-y-8">
                    <div class="section-card bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl lg:rounded-2xl p-4 sm:p-6 lg:p-8 border border-blue-200"><div class="flex items-center space-x-3 mb-4 sm:mb-6"><div class="w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 sm:w-5 sm:h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/></svg></div><h3 class="text-base sm:text-lg lg:text-xl font-bold text-blue-800">üìã Data Pelaporan</h3></div><div class="grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6"><div class="space-y-2"><label class="block text-sm sm:text-base font-semibold text-blue-700">Tanggal Pelaporan</label><input type="date" name="tanggal" required class="input-focus w-full px-4 py-3 sm:py-4 border-2 border-blue-200 rounded-xl focus:ring-4 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base bg-white shadow-sm"></div><div class="space-y-2"><label class="block text-sm sm:text-base font-semibold text-blue-700">Jenis Pelaporan</label><select name="jenispelaporan" required class="input-focus w-full px-4 py-3 sm:py-4 border-2 border-blue-200 rounded-xl focus:ring-4 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base bg-white shadow-sm"><option value="">Pilih Jenis Pelaporan</option><option value="Kelahiran">üë∂ Kelahiran</option><option value="Kematian">‚ö∞Ô∏è Kematian</option><option value="Lahir Mati">üíî Lahir Mati</option></select></div></div></div>
                    <div class="section-card bg-gradient-to-r from-green-50 to-green-100 rounded-xl lg:rounded-2xl p-4 sm:p-6 lg:p-8 border border-green-200"><div class="flex items-center space-x-3 mb-4 sm:mb-6"><div class="w-8 h-8 sm:w-10 sm:h-10 bg-green-600 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 sm:w-5 sm:h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/></svg></div><h3 class="text-base sm:text-lg lg:text-xl font-bold text-green-800">üë®‚Äç‚öïÔ∏è Data Petugas</h3></div><div class="grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6"><div class="space-y-2"><label class="block text-sm sm:text-base font-semibold text-green-700">Nama Petugas</label><input type="text" name="namapetugas" required class="input-focus w-full px-4 py-3 sm:py-4 border-2 border-green-200 rounded-xl focus:ring-4 focus:ring-green-500 focus:border-green-500 text-sm sm:text-base bg-white shadow-sm" placeholder="Nama lengkap petugas"></div><div class="space-y-2"><label class="block text-sm sm:text-base font-semibold text-green-700">NIP</label><input type="text" name="nip" required class="input-focus w-full px-4 py-3 sm:py-4 border-2 border-green-200 rounded-xl focus:ring-4 focus:ring-green-500 focus:border-green-500 text-sm sm:text-base bg-white shadow-sm" placeholder="Nomor Induk Pegawai"></div><div class="space-y-2"><label class="block text-sm sm:text-base font-semibold text-green-700">Nama Instansi</label><input type="text" name="namainstansi" required class="input-focus w-full px-4 py-3 sm:py-4 border-2 border-green-200 rounded-xl focus:ring-4 focus:ring-green-500 focus:border-green-500 text-sm sm:text-base bg-white shadow-sm" placeholder="Nama instansi/puskesmas"></div><div class="space-y-2"><label class="block text-sm sm:text-base font-semibold text-green-700">Nomor Telepon</label><input type="tel" name="telp" required class="input-focus w-full px-4 py-3 sm:py-4 border-2 border-green-200 rounded-xl focus:ring-4 focus:ring-green-500 focus:border-green-500 text-sm sm:text-base bg-white shadow-sm" placeholder="08xxxxxxxxxx"></div><div class="space-y-2 lg:col-span-2"><label class="block text-sm sm:text-base font-semibold text-green-700">Email</label><input type="email" name="email" required class="input-focus w-full px-4 py-3 sm:py-4 border-2 border-green-200 rounded-xl focus:ring-4 focus:ring-green-500 focus:border-green-500 text-sm sm:text-base bg-white shadow-sm" placeholder="email@example.com"></div></div></div>
                    <div class="section-card bg-gradient-to-r from-purple-50 to-purple-100 rounded-xl lg:rounded-2xl p-4 sm:p-6 lg:p-8 border border-purple-200"><div class="flex items-center space-x-3 mb-4 sm:mb-6"><div class="w-8 h-8 sm:w-10 sm:h-10 bg-purple-600 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 sm:w-5 sm:h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/></svg></div><h3 class="text-base sm:text-lg lg:text-xl font-bold text-purple-800">üë∂ Data Bayi/Anak/Jenazah</h3></div><div class="grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6"><div class="space-y-2"><label class="block text-sm sm:text-base font-semibold text-purple-700">Nama Lengkap</label><input type="text" name="namalengkap" required class="input-focus w-full px-4 py-3 sm:py-4 border-2 border-purple-200 rounded-xl focus:ring-4 focus:ring-purple-500 focus:border-purple-500 text-sm sm:text-base bg-white shadow-sm" placeholder="Nama lengkap bayi/anak"></div><div class="space-y-2"><label class="block text-sm sm:text-base font-semibold text-purple-700">Tempat Lahir</label><input type="text" name="tempatlahir" required class="input-focus w-full px-4 py-3 sm:py-4 border-2 border-purple-200 rounded-xl focus:ring-4 focus:ring-purple-500 focus:border-purple-500 text-sm sm:text-base bg-white shadow-sm" placeholder="Tempat lahir"></div><div class="space-y-2"><label class="block text-sm sm:text-base font-semibold text-purple-700">Tanggal Lahir</label><input type="date" name="tanggallahir" required class="input-focus w-full px-4 py-3 sm:py-4 border-2 border-purple-200 rounded-xl focus:ring-4 focus:ring-purple-500 focus:border-purple-500 text-sm sm:text-base bg-white shadow-sm"></div><div class="space-y-2"><label class="block text-sm sm:text-base font-semibold text-purple-700">Jenis Kelamin</label><select name="jeniskelamin" required class="input-focus w-full px-4 py-3 sm:py-4 border-2 border-purple-200 rounded-xl focus:ring-4 focus:ring-purple-500 focus:border-purple-500 text-sm sm:text-base bg-white shadow-sm"><option value="">Pilih Jenis Kelamin</option><option value="Laki-laki">üë¶ Laki-laki</option><option value="Perempuan">üëß Perempuan</option></select></div></div></div>
                    <div class="section-card bg-gradient-to-r from-orange-50 to-orange-100 rounded-xl lg:rounded-2xl p-4 sm:p-6 lg:p-8 border border-orange-200"><div class="flex items-center space-x-3 mb-4 sm:mb-6"><div class="w-8 h-8 sm:w-10 sm:h-10 bg-orange-600 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 sm:w-5 sm:h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/></svg></div><h3 class="text-base sm:text-lg lg:text-xl font-bold text-orange-800">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Data Orang Tua</h3></div><div class="grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6"><div class="space-y-2"><label class="block text-sm sm:text-base font-semibold text-orange-700">Nama Ibu</label><input type="text" name="namaibu" required class="input-focus w-full px-4 py-3 sm:py-4 border-2 border-orange-200 rounded-xl focus:ring-4 focus:ring-orange-500 focus:border-orange-500 text-sm sm:text-base bg-white shadow-sm" placeholder="Nama lengkap ibu"></div><div class="space-y-2"><label class="block text-sm sm:text-base font-semibold text-orange-700">Nama Ayah</label><input type="text" name="namaayah" required class="input-focus w-full px-4 py-3 sm:py-4 border-2 border-orange-200 rounded-xl focus:ring-4 focus:ring-orange-500 focus:border-orange-500 text-sm sm:text-base bg-white shadow-sm" placeholder="Nama lengkap ayah"></div></div></div>
                    <div class="section-card bg-gradient-to-r from-red-50 to-red-100 rounded-xl lg:rounded-2xl p-4 sm:p-6 lg:p-8 border border-red-200"><div class="flex items-center space-x-3 mb-4 sm:mb-6"><div class="w-8 h-8 sm:w-10 sm:h-10 bg-red-600 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 sm:w-5 sm:h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/></svg></div><h3 class="text-base sm:text-lg lg:text-xl font-bold text-red-800">üìç Data Alamat</h3></div><div class="grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6"><div class="space-y-2"><label class="block text-sm sm:text-base font-semibold text-red-700">Kecamatan</label><select name="kecamatan" required class="input-focus w-full px-4 py-3 sm:py-4 border-2 border-red-200 rounded-xl focus:ring-4 focus:ring-red-500 focus:border-red-500 text-sm sm:text-base bg-white shadow-sm"><option value="">Pilih Kecamatan</option><option value="Tanimbar Selatan">üèòÔ∏è Tanimbar Selatan</option><option value="Selaru">üèòÔ∏è Selaru</option><option value="Wertamrian">üèòÔ∏è Wertamrian</option><option value="Wermatian">üèòÔ∏è Wermatian</option><option value="Tanimbar Utara">üèòÔ∏è Tanimbar Utara</option><option value="Fordata">üèòÔ∏è Fordata</option><option value="Wuarlabobar">üèòÔ∏è Wuarlabobar</option><option value="Kormomolin">üèòÔ∏è Kormomolin</option><option value="Nirunmas">üèòÔ∏è Nirunmas</option><option value="Molumaru">üèòÔ∏è Molumaru</option></select></div><div class="space-y-2"><label class="block text-sm sm:text-base font-semibold text-red-700">Desa/Kelurahan</label><input type="text" name="desakelurahan" required class="input-focus w-full px-4 py-3 sm:py-4 border-2 border-red-200 rounded-xl focus:ring-4 focus:ring-red-500 focus:border-red-500 text-sm sm:text-base bg-white shadow-sm" placeholder="Nama desa/kelurahan"></div><div class="space-y-2"><label class="block text-sm sm:text-base font-semibold text-red-700">RT/RW</label><input type="text" name="rtrw" required class="input-focus w-full px-4 py-3 sm:py-4 border-2 border-red-200 rounded-xl focus:ring-4 focus:ring-red-500 focus:border-red-500 text-sm sm:text-base bg-white shadow-sm" placeholder="Contoh: RT 001/RW 002"></div></div></div>
                    <div class="section-card bg-gradient-to-r from-indigo-50 to-indigo-100 rounded-xl lg:rounded-2xl p-4 sm:p-6 lg:p-8 border border-indigo-200"><div class="flex items-center space-x-3 mb-4 sm:mb-6"><div class="w-8 h-8 sm:w-10 sm:h-10 bg-indigo-600 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 sm:w-5 sm:h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"/></svg></div><h3 class="text-base sm:text-lg lg:text-xl font-bold text-indigo-800">üìé Upload Berkas</h3></div><div class="space-y-2"><label class="block text-sm sm:text-base font-semibold text-indigo-700">Unggah Berkas Pendukung (PDF)</label><input type="file" name="unggahberkas" accept=".pdf" class="input-focus w-full px-4 py-3 sm:py-4 border-2 border-indigo-200 rounded-xl focus:ring-4 focus:ring-indigo-500 focus:border-indigo-500 text-sm sm:text-base bg-white shadow-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100"><div class="bg-indigo-50 border border-indigo-200 rounded-lg p-3 mt-2"><p class="text-xs text-indigo-700 font-medium mb-2">üìÑ Persyaratan Upload Berkas:</p><ul class="text-xs text-indigo-600 space-y-1"><li class="flex items-start"><span class="text-indigo-500 mr-2">1.</span><span><strong>Berkas yang diupload harus berformat PDF</strong> (Maksimal 5MB)</span></li><li class="flex items-start"><span class="text-indigo-500 mr-2">2.</span><span><strong>Gabung semua berkas menjadi 1 File PDF</strong> menggunakan aplikasi CamScanner atau aplikasi sejenis</span></li></ul></div></div></div>
                    <div class="section-card bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl lg:rounded-2xl p-4 sm:p-6 lg:p-8 border border-gray-200"><div class="flex items-center space-x-3 mb-4 sm:mb-6"><div class="w-8 h-8 sm:w-10 sm:h-10 bg-gray-600 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 sm:w-5 sm:h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg></div><h3 class="text-base sm:text-lg lg:text-xl font-bold text-gray-800">‚úÖ Syarat dan Ketentuan</h3></div><div class="space-y-4"><div class="bg-white p-4 rounded-lg border border-gray-200"><h4 class="font-semibold text-gray-800 mb-2">Syarat dan Ketentuan Pelaporan:</h4><ul class="text-sm text-gray-600 space-y-1 list-disc list-inside"><li>Data yang dimasukkan harus benar dan dapat dipertanggungjawabkan</li><li>Petugas bertanggung jawab atas keakuratan informasi yang dilaporkan</li><li>Berkas yang diunggah harus sesuai dengan jenis pelaporan dan berformat PDF</li><li>Laporan akan diverifikasi oleh tim DukCapil</li><li>Data akan digunakan untuk keperluan administrasi kependudukan</li></ul></div><div class="flex items-start space-x-3"><input type="checkbox" name="syaratdanketentuan" id="terms" value="Setuju" required class="mt-1 w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"><label for="terms" class="text-sm text-gray-700">Saya menyetujui <strong>syarat dan ketentuan</strong> yang berlaku dan menjamin kebenaran data yang saya laporkan.</label></div></div></div>
                    <div class="text-center pt-4 sm:pt-6"><button type="submit" id="submitBtn" class="group relative overflow-hidden bg-gradient-to-r from-blue-600 via-purple-600 to-blue-800 hover:from-blue-700 hover:via-purple-700 hover:to-blue-900 text-white font-bold py-4 sm:py-5 px-8 sm:px-12 lg:px-16 rounded-xl lg:rounded-2xl text-base sm:text-lg lg:text-xl transition-all duration-300 transform hover:scale-105 hover:shadow-2xl w-full sm:w-auto min-w-[200px] sm:min-w-[300px]"><div class="absolute inset-0 bg-gradient-to-r from-white to-transparent opacity-0 group-hover:opacity-10 transition-opacity duration-300"></div><span class="relative flex items-center justify-center space-x-2 sm:space-x-3"><svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/></svg><span id="submitText">üì§ Kirim Registrasi</span><span id="loadingText" class="hidden">‚è≥ Mengirim...</span></span></button><div class="mt-4 sm:mt-6 text-center"><p class="text-xs sm:text-sm text-gray-500 max-w-md mx-auto">Pastikan semua data telah diisi dengan benar sebelum mengirim</p></div></div>
                </form>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="successModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4 success-modal">
        <div class="bg-white rounded-2xl p-6 sm:p-8 max-w-lg w-full mx-4 text-center">
            <div class="text-green-500 text-5xl sm:text-6xl mb-4">‚úÖ</div>
            <h3 class="text-xl sm:text-2xl font-bold text-gray-800 mb-2">Laporan Berhasil Dikirim!</h3>
            <p class="text-gray-600 mb-4 text-sm sm:text-base">Data telah tersimpan dan dashboard akan diperbarui.</p>
            <div id="pdfSection" class="hidden bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6"><div class="flex items-center justify-center mb-3"><div class="text-blue-500 text-3xl mr-2">üìÑ</div><h4 class="text-lg font-semibold text-blue-800">Berkas PDF Tersimpan!</h4></div><p class="text-blue-600 text-sm mb-4">Berkas PDF yang Anda upload telah tersimpan di database dan dapat diakses untuk keperluan administrasi.</p><a id="pdfDownloadLink" href="#" target="_blank" class="inline-flex items-center bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/></svg>Lihat PDF</a></div>
            <button onclick="closeSuccessModal()" class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-6 rounded-lg w-full sm:w-auto">Tutup</button>
        </div>
    </div>

    <!-- =================================================================== -->
    <!--                       SKRIP JAVASCRIPT GABUNGAN                     -->
    <!-- =================================================================== -->
    <script>
        // --- Navigasi dan Logika Halaman ---
        const pages = ['dashboard', 'about', 'contact'];
        const navLinks = document.querySelectorAll('.nav-link');

        function showPage(pageName) {
            // Sembunyikan semua halaman
            pages.forEach(page => {
                document.getElementById(`${page}-page`).classList.add('page-hidden');
            });

            // Tampilkan halaman yang dipilih
            const activePage = document.getElementById(`${pageName}-page`);
            if (activePage) {
                activePage.classList.remove('page-hidden');
            }

            // Perbarui status aktif pada link navigasi
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('onclick').includes(`'${pageName}'`)) {
                    link.classList.add('active');
                }
            });

            // Tutup menu mobile jika terbuka
            const mobileMenu = document.getElementById('mobile-menu');
            if (!mobileMenu.classList.contains('hidden')) {
                mobileMenu.classList.add('hidden');
            }
            
            // Scroll ke atas
            window.scrollTo(0, 0);
        }

        document.getElementById('mobile-menu-button').addEventListener('click', function() {
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenu.classList.toggle('hidden');
        });

        // --- Skrip Halaman Dashboard ---
        // Real-time data from Google Sheets - Updated URL
        const SPREADSHEET_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRKtu9nkTAOwfpHXcxV37zdeWkGNXm53hLgsGKoykl2VwBBGZ6zJZ3GunH5RdXfvEZWBmqGWvcDq_nn/pub?gid=1400338446&single=true&output=csv';
        const LOGIN_CREDENTIALS_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSM58uY6-xWvSv6tGhPOrMBfrH77l8uEFo6Tu3WhpCtAgbjnWESkEa7Eg6X9ChkoYhjiXkRMLzK5idz/pub?gid=0&single=true&output=csv';
        const EXPORT_CREDENTIALS_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vR_msGNVsX3pTwgVuQ2Xy2Z5xY8xdzETmABfWRbtMWIO667OuHG7Vow2RcdseM8aXQOIv_WspoeE4qx/pub?gid=0&single=true&output=csv';
        const EXPORT_DATA_URL = 'https://docs.google.com/spreadsheets/d/13z07-WDMdib8l2h4AS0dAFGmSfnoiNHldTX2kkC3z0E/edit?usp=sharing';
        const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbz60_al5-7amlZ8P-7FBEqMfuo7leJZ2crWepq2G7abhBjCtRaO4gaJ8egYewxyJ1F77w/exec';
        
        const REALTIME_CONFIG = { autoRefreshInterval: 30000, credentialsRefreshInterval: 60000, maxRetries: 5, retryDelay: 5000, enableVisibilitySync: true, enableNotifications: true, timeoutDuration: 15000 };
        
        let autoRefreshTimer = null, credentialsRefreshTimer = null, lastDataHash = null, isDataLoading = false, retryCount = 0;
        let dashboardData = { totalReports: 0, reportsByType: {'Kelahiran': 0, 'Kematian': 0, 'Lahir Mati': 0}, reportsByDistrict: {'Tanimbar Selatan': 0, 'Selaru': 0, 'Wertamrian': 0, 'Wermatian': 0, 'Tanimbar Utara': 0, 'Fordata': 0, 'Wuarlabobar': 0, 'Kormomolin': 0, 'Nirunmas': 0, 'Molumaru': 0}, monthlyTrend: {}, availableYears: [], recentReports: [], rawData: [] };
        let charts = {}, loginCredentials = [], formLoginCredentials = [], exportLoginCredentials = [];

        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ Initializing Real-time Dashboard...');
            loadDataFromSpreadsheet();
            loadFormLoginCredentials();
            loadExportLoginCredentials();
            updateLastUpdateTime();
            startRealTimeSync();
            const today = new Date().toISOString().split('T')[0];
            document.querySelector('input[name="tanggal"]').value = today;
            if (REALTIME_CONFIG.enableVisibilitySync) { document.addEventListener('visibilitychange', handleVisibilityChange); }
            window.addEventListener('online', () => { updateConnectionStatus('connecting'); loadDataFromSpreadsheet(false); });
            window.addEventListener('offline', () => updateConnectionStatus('offline'));
            window.addEventListener('beforeunload', stopRealTimeSync);
        });

        async function loadFormLoginCredentials(isAutoRefresh = false) {
            try {
                const response = await fetch(LOGIN_CREDENTIALS_URL + '&t=' + Date.now(), { method: 'GET', mode: 'cors' });
                if (!response.ok) throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                const csvText = await response.text();
                const rows = csvText.split('\n').map(row => row.split(','));
                const previousCount = formLoginCredentials.length;
                formLoginCredentials = [];
                if (rows.length > 1) {
                    for (let i = 1; i < rows.length; i++) {
                        if (rows[i].length >= 2 && rows[i][0] && rows[i][1]) {
                            const username = rows[i][0].replace(/"/g, '').trim();
                            const password = rows[i][1].replace(/"/g, '').trim();
                            const role = rows[i].length >= 3 ? rows[i][2].replace(/"/g, '').trim() : 'user';
                            if (username && password) formLoginCredentials.push({ username, password, role });
                        }
                    }
                }
                if (isAutoRefresh && formLoginCredentials.length !== previousCount) showCredentialsUpdateNotification('form', formLoginCredentials.length - previousCount);
            } catch (error) {
                if (formLoginCredentials.length === 0) formLoginCredentials = [{ username: 'petugas', password: 'petugas123', role: 'user' }, { username: 'admin', password: 'admin123', role: 'admin' }, { username: 'dukcapil', password: 'tanimbar2024', role: 'user' }, { username: 'kesehatan', password: 'kesehatan123', role: 'user' }];
            }
        }

        async function loadExportLoginCredentials() {
            try {
                const response = await fetch(EXPORT_CREDENTIALS_URL + '&t=' + Date.now(), { method: 'GET', mode: 'cors' });
                if (!response.ok) throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                const csvText = await response.text();
                const rows = csvText.split('\n').map(row => row.split(','));
                exportLoginCredentials = [];
                if (rows.length > 1) {
                    for (let i = 1; i < rows.length; i++) {
                        if (rows[i].length >= 3 && rows[i][0] && rows[i][1] && rows[i][2]) {
                            const username = rows[i][0].replace(/"/g, '').trim();
                            const password = rows[i][1].replace(/"/g, '').trim();
                            const role = rows[i][2].replace(/"/g, '').trim();
                            if (username && password && role) exportLoginCredentials.push({ username, password, role });
                        }
                    }
                }
            } catch (error) {
                exportLoginCredentials = [{ username: 'admin', password: 'admin123', role: 'admin' }, { username: 'dukcapil', password: 'tanimbar2024', role: 'admin' }, { username: 'superadmin', password: 'super123', role: 'admin' }, { username: 'export', password: 'export2024', role: 'admin' }];
            }
        }

        function calculateDataHash(data) { let hash = 0; const dataString = JSON.stringify(data); for (let i = 0; i < dataString.length; i++) { const char = dataString.charCodeAt(i); hash = ((hash << 5) - hash) + char; hash &= hash; } return hash.toString(); }

        async function loadDataFromSpreadsheet(isAutoRefresh = false) {
            if (isDataLoading) return;
            isDataLoading = true;
            try {
                if (!isAutoRefresh) { document.getElementById('todayCount').textContent = 'Loading...'; updateConnectionStatus('connecting'); }
                const cacheBuster = `&t=${Date.now()}&r=${Math.random()}`;
                const timeoutPromise = new Promise((_, reject) => setTimeout(() => reject(new Error('Request timeout')), REALTIME_CONFIG.timeoutDuration));
                const fetchPromise = fetch(SPREADSHEET_URL + cacheBuster, { method: 'GET', mode: 'cors' });
                const response = await Promise.race([fetchPromise, timeoutPromise]);
                if (!response.ok) throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                const csvText = await response.text();
                if (csvText.trim().toLowerCase().startsWith('<!doctype') || csvText.trim().length === 0) throw new Error('Received HTML or empty data');
                
                const lines = csvText.split(/\r?\n/).filter(line => line.trim());
                const rows = lines.map(line => parseCSVLine(line));
                if (rows.length === 0) throw new Error('No valid data rows in CSV');

                const rawHeaders = rows[0];
                const headers = rawHeaders.map(h => h.replace(/"/g, '').trim().toLowerCase().replace(/\s+/g, '').replace(/[^\w]/g, ''));
                
                const previousTotal = dashboardData.totalReports;
                dashboardData.rawData = []; dashboardData.reportsByType = {'Kelahiran': 0, 'Kematian': 0, 'Lahir Mati': 0}; dashboardData.reportsByDistrict = {'Tanimbar Selatan': 0, 'Selaru': 0, 'Wertamrian': 0, 'Wermatian': 0, 'Tanimbar Utara': 0, 'Fordata': 0, 'Wuarlabobar': 0, 'Kormomolin': 0, 'Nirunmas': 0, 'Molumaru': 0}; dashboardData.monthlyTrend = {}; dashboardData.availableYears = []; dashboardData.recentReports = [];
                
                const columnMap = {
                    tanggal: findColumnIndex(headers, ['tanggal', 'date', 'timestamp', 'tanggalpelaporan']),
                    jenispelaporan: findColumnIndex(headers, ['jenispelaporan', 'jenislaporanperistiwa', 'jenis', 'type']),
                    kecamatan: findColumnIndex(headers, ['kecamatan', 'district']),
                    namalengkap: findColumnIndex(headers, ['namalengkap', 'nama', 'name']),
                    namapetugas: findColumnIndex(headers, ['namapetugas', 'petugas'])
                };

                for (let i = 1; i < rows.length; i++) {
                    const row = rows[i];
                    if (!row || row.length === 0 || !row.some(cell => cell && cell.trim())) continue;
                    
                    const reportType = getValueFromRow(row, columnMap.jenispelaporan);
                    const district = getValueFromRow(row, columnMap.kecamatan);
                    const dateStr = getValueFromRow(row, columnMap.tanggal);
                    
                    const normalizedReportType = normalizeReportType(reportType);
                    const normalizedDistrict = normalizeDistrict(district);

                    if (normalizedReportType && dashboardData.reportsByType.hasOwnProperty(normalizedReportType)) dashboardData.reportsByType[normalizedReportType]++;
                    if (normalizedDistrict && dashboardData.reportsByDistrict.hasOwnProperty(normalizedDistrict)) dashboardData.reportsByDistrict[normalizedDistrict]++;

                    if (dateStr && normalizedReportType) {
                        const date = parseDate(dateStr);
                        if (date && !isNaN(date.getTime())) {
                            const year = date.getFullYear();
                            const month = date.getMonth();
                            if (!dashboardData.availableYears.includes(year)) dashboardData.availableYears.push(year);
                            if (!dashboardData.monthlyTrend[year]) dashboardData.monthlyTrend[year] = {'Kelahiran': Array(12).fill(0), 'Kematian': Array(12).fill(0), 'Lahir Mati': Array(12).fill(0)};
                            if (dashboardData.monthlyTrend[year][normalizedReportType]) dashboardData.monthlyTrend[year][normalizedReportType][month]++;
                        }
                    }
                    dashboardData.rawData.push({tanggal: dateStr, jenispelaporan: normalizedReportType, kecamatan: normalizedDistrict, rawData: row});
                }
                
                dashboardData.totalReports = Object.values(dashboardData.reportsByType).reduce((a, b) => a + b, 0);
                dashboardData.availableYears.sort((a, b) => b - a);
                populateYearFilter();
                
                const newDataHash = calculateDataHash(dashboardData);
                const hasDataChanged = lastDataHash !== null && lastDataHash !== newDataHash;
                
                updateStatistics(); initializeCharts(); updateLastUpdateTime();
                
                if (hasDataChanged && isAutoRefresh && REALTIME_CONFIG.enableNotifications) showDataUpdateNotification();
                
                lastDataHash = newDataHash; updateConnectionStatus('connected'); retryCount = 0;
            } catch (error) {
                console.error('‚ùå Error loading data:', error);
                updateConnectionStatus('error');
                if (isAutoRefresh && retryCount < REALTIME_CONFIG.maxRetries) {
                    retryCount++; setTimeout(() => loadDataFromSpreadsheet(true), REALTIME_CONFIG.retryDelay);
                } else if (lastDataHash === null && !isAutoRefresh) {
                    loadSampleData(); updateStatistics(); initializeCharts();
                }
            } finally { isDataLoading = false; }
        }

        function parseCSVLine(line) { const result = []; let current = ''; let inQuotes = false; for (let i = 0; i < line.length; i++) { const char = line[i]; if (char === '"') { inQuotes = !inQuotes; } else if (char === ',' && !inQuotes) { result.push(current.trim()); current = ''; } else { current += char; } } result.push(current.trim()); return result; }
        function findColumnIndex(headers, possibleNames) { for (let name of possibleNames) { const normalizedName = name.toLowerCase().replace(/\s+/g, '').replace(/[^\w]/g, ''); const index = headers.findIndex(h => h.includes(normalizedName)); if (index !== -1) return index; } return -1; }
        function getValueFromRow(row, columnIndex) { if (columnIndex === -1 || !row[columnIndex]) return ''; return row[columnIndex].replace(/"/g, '').trim(); }
        function normalizeReportType(type) { if (!type) return ''; const t = type.toLowerCase().trim(); if (t.includes('kelahiran') || (t.includes('lahir') && !t.includes('mati'))) return 'Kelahiran'; if (t.includes('kematian') || t.includes('meninggal') || (t.includes('mati') && !t.includes('lahir'))) return 'Kematian'; if (t.includes('lahir mati') || t.includes('stillbirth')) return 'Lahir Mati'; return type; }
        function normalizeDistrict(district) { if (!district) return ''; const d = district.toLowerCase().trim(); const map = {'tanimbar selatan': 'Tanimbar Selatan', 'selaru': 'Selaru', 'wertamrian': 'Wertamrian', 'wermatian': 'Wermatian', 'tanimbar utara': 'Tanimbar Utara', 'fordata': 'Fordata', 'wuarlabobar': 'Wuarlabobar', 'kormomolin': 'Kormomolin', 'nirunmas': 'Nirunmas', 'molumaru': 'Molumaru'}; for (const [key, value] of Object.entries(map)) { if (d.includes(key)) return value; } return district; }
        function loadSampleData() { /* Fallback data initialization */ }
        function parseDate(dateStr) { if (!dateStr) return null; try { const date = new Date(dateStr); if (!isNaN(date.getTime())) return date; } catch(e){} const parts = dateStr.match(/(\d{1,2})[/-](\d{1,2})[/-](\d{4})/); if (parts) { return new Date(parts[3], parts[2] - 1, parts[1]); } return null;}

        function populateYearFilter() { const yearFilter = document.getElementById('yearFilter'); yearFilter.innerHTML = ''; if (dashboardData.availableYears.length === 0) { const option = document.createElement('option'); option.value = new Date().getFullYear(); option.textContent = new Date().getFullYear(); yearFilter.appendChild(option); } else { dashboardData.availableYears.forEach(year => { const option = document.createElement('option'); option.value = year; option.textContent = year; yearFilter.appendChild(option); }); } }
        function updateTrendChart() { const selectedYear = document.getElementById('yearFilter').value; if (charts.lineChart && dashboardData.monthlyTrend[selectedYear]) { const yearData = dashboardData.monthlyTrend[selectedYear]; charts.lineChart.data.datasets[0].data = yearData['Kelahiran']; charts.lineChart.data.datasets[1].data = yearData['Kematian']; charts.lineChart.data.datasets[2].data = yearData['Lahir Mati']; charts.lineChart.update(); } }
        
        function updateStatistics() {
            const total = dashboardData.totalReports;
            document.getElementById('totalReports').textContent = total;
            document.getElementById('todayCount').textContent = total;
            
            const today = new Date().toISOString().split('T')[0];
            const todayReports = dashboardData.rawData.filter(row => row.tanggal && row.tanggal.startsWith(today)).length;
            document.getElementById('todayIncrease').textContent = todayReports;

            document.getElementById('birthCount').textContent = dashboardData.reportsByType['Kelahiran'];
            document.getElementById('birthPercentage').textContent = total > 0 ? Math.round((dashboardData.reportsByType['Kelahiran'] / total) * 100) : 0;
            document.getElementById('deathCount').textContent = dashboardData.reportsByType['Kematian'];
            document.getElementById('deathPercentage').textContent = total > 0 ? Math.round((dashboardData.reportsByType['Kematian'] / total) * 100) : 0;
            document.getElementById('stillbirthCount').textContent = dashboardData.reportsByType['Lahir Mati'];
            document.getElementById('stillbirthPercentage').textContent = total > 0 ? Math.round((dashboardData.reportsByType['Lahir Mati'] / total) * 100) : 0;
            document.getElementById('pieChartTotal').textContent = total;
        }

        function initializeCharts() {
            if (charts.pieChart) charts.pieChart.destroy(); if (charts.barChart) charts.barChart.destroy(); if (charts.lineChart) charts.lineChart.destroy();
            const pieCtx = document.getElementById('reportTypeChart').getContext('2d');
            charts.pieChart = new Chart(pieCtx, { type: 'doughnut', data: { labels: Object.keys(dashboardData.reportsByType), datasets: [{ data: Object.values(dashboardData.reportsByType), backgroundColor: ['#10b981', '#ef4444', '#8b5cf6'], borderWidth: 0, hoverOffset: 10 }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom', labels: { padding: 20, usePointStyle: true } } } } });
            const barCtx = document.getElementById('districtChart').getContext('2d');
            charts.barChart = new Chart(barCtx, { type: 'bar', data: { labels: Object.keys(dashboardData.reportsByDistrict), datasets: [{ label: 'Jumlah Pelaporan', data: Object.values(dashboardData.reportsByDistrict), backgroundColor: 'rgba(59, 130, 246, 0.8)', borderColor: 'rgba(59, 130, 246, 1)', borderWidth: 1, borderRadius: 4 }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { y: { beginAtZero: true, ticks: { stepSize: 1 } }, x: { ticks: { maxRotation: 45 } } } } });
            const lineCtx = document.getElementById('trendChart').getContext('2d');
            const currentYear = dashboardData.availableYears.length > 0 ? dashboardData.availableYears[0] : new Date().getFullYear();
            const currentYearData = dashboardData.monthlyTrend[currentYear] || {'Kelahiran': Array(12).fill(0), 'Kematian': Array(12).fill(0), 'Lahir Mati': Array(12).fill(0)};
            charts.lineChart = new Chart(lineCtx, { type: 'line', data: { labels: ['Jan', 'Feb', 'Mar', 'Apr', 'Mei', 'Jun', 'Jul', 'Agu', 'Sep', 'Okt', 'Nov', 'Des'], datasets: [ { label: 'Kelahiran', data: currentYearData['Kelahiran'], borderColor: '#10b981', backgroundColor: 'rgba(16, 185, 129, 0.1)', tension: 0.4, fill: true }, { label: 'Kematian', data: currentYearData['Kematian'], borderColor: '#ef4444', backgroundColor: 'rgba(239, 68, 68, 0.1)', tension: 0.4, fill: true }, { label: 'Lahir Mati', data: currentYearData['Lahir Mati'], borderColor: '#8b5cf6', backgroundColor: 'rgba(139, 92, 246, 0.1)', tension: 0.4, fill: true }] }, options: { responsive: true, maintainAspectRatio: false, scales: { y: { beginAtZero: true, ticks: { stepSize: 1 } } } } });
        }

        function updateLastUpdateTime() { document.getElementById('lastUpdate').textContent = new Date().toLocaleTimeString('id-ID'); }
        function startRealTimeSync() { if (autoRefreshTimer) clearInterval(autoRefreshTimer); if (credentialsRefreshTimer) clearInterval(credentialsRefreshTimer); autoRefreshTimer = setInterval(() => { if (!document.hidden && !isDataLoading) loadDataFromSpreadsheet(true); }, REALTIME_CONFIG.autoRefreshInterval); credentialsRefreshTimer = setInterval(() => { if (!document.hidden) { loadFormLoginCredentials(true); loadExportLoginCredentials(); } }, REALTIME_CONFIG.credentialsRefreshInterval); updateConnectionStatus('connected'); }
        function stopRealTimeSync() { if (autoRefreshTimer) clearInterval(autoRefreshTimer); if (credentialsRefreshTimer) clearInterval(credentialsRefreshTimer); autoRefreshTimer = null; credentialsRefreshTimer = null; updateConnectionStatus('disconnected'); }
        function handleVisibilityChange() { if (document.hidden) { updateConnectionStatus('paused'); } else { updateConnectionStatus('connected'); if (!isDataLoading) { loadDataFromSpreadsheet(true); loadFormLoginCredentials(true); } } }
        function updateConnectionStatus(status) { const statusElement = document.querySelector('.scrolling-text'); const liveText = document.querySelector('.text-green-300'); if(liveText) { let statusText = ''; switch(status) { case 'connected': statusText = 'Connected'; break; case 'connecting': statusText = 'Connecting...'; break; case 'error': statusText = 'Error'; break; default: statusText = 'Disconnected'; } liveText.textContent = statusText; } }
        function showDataUpdateNotification() { const notification = document.createElement('div'); notification.className = 'fixed top-4 right-4 bg-blue-600 text-white px-6 py-3 rounded-lg shadow-lg z-50 transform translate-x-full transition-transform duration-300'; notification.innerHTML = `<span>Data Diperbarui!</span>`; document.body.appendChild(notification); setTimeout(() => notification.classList.remove('translate-x-full'), 100); setTimeout(() => { notification.classList.add('translate-x-full'); setTimeout(() => document.body.removeChild(notification), 300); }, 3000); }
        function showCredentialsUpdateNotification(type, changeCount) { /* Similar to showDataUpdateNotification */ }
        
        async function refreshData(event) { const btn = event.currentTarget; const original = btn.innerHTML; btn.innerHTML = 'Memperbarui...'; btn.disabled = true; await loadDataFromSpreadsheet(false); startRealTimeSync(); btn.innerHTML = 'Data Diperbarui!'; setTimeout(() => { btn.innerHTML = original; btn.disabled = false; }, 2000); }
        function showForm() { showFormLoginModal(); }
        function showFormLoginModal() { document.getElementById('formLoginModal').classList.remove('hidden'); document.getElementById('formLoginModal').classList.add('flex'); }
        function closeFormLoginModal() { document.getElementById('formLoginModal').classList.add('hidden'); document.getElementById('formLoginModal').classList.remove('flex'); }
        function openFormAfterLogin() { closeFormLoginModal(); document.getElementById('formModal').classList.remove('hidden'); document.getElementById('formModal').classList.add('flex'); }
        function closeForm() { document.getElementById('formModal').classList.add('hidden'); document.getElementById('formModal').classList.remove('flex'); }
        function closeSuccessModal() { document.getElementById('successModal').classList.add('hidden'); document.getElementById('successModal').classList.remove('flex'); }
        function showSuccessWithPDF(pdfUrl, hasFile) { document.getElementById('successModal').classList.remove('hidden'); document.getElementById('successModal').classList.add('flex'); if (hasFile && pdfUrl) { document.getElementById('pdfSection').classList.remove('hidden'); document.getElementById('pdfDownloadLink').href = pdfUrl; } else { document.getElementById('pdfSection').classList.add('hidden'); } }
        function contactUs() { window.open('https://wa.me/6281343201115?text=Syaloom%20dan%20Salve,%20Saya%20ingin%20bertanya%20tentang%20Layanan%20Lahir%20Mati%20Pro%20Aktif!%20Mohon%20Bantuannya.', '_blank'); }
        
        async function autoExportData(event) { showLoginModal(); }
        function showLoginModal() { document.getElementById('loginModal').classList.remove('hidden'); document.getElementById('loginModal').classList.add('flex'); }
        function closeLoginModal() { document.getElementById('loginModal').classList.add('hidden'); document.getElementById('loginModal').classList.remove('flex'); }
        
        function validateFormLogin(username, password) { const user = formLoginCredentials.find(c => c.username === username && c.password === password); if (user) return { success: true, user }; return { success: false, error: 'Username atau password salah!' }; }
        function validateExportLogin(username, password) { const user = exportLoginCredentials.find(c => c.username === username && c.password === password); if (user && user.role === 'admin') return { success: true, user }; if (user) return { success: false, error: 'Hanya admin yang dapat mengakses.' }; return { success: false, error: 'Username atau password salah!' }; }
        function exportDataAfterLogin() { window.open(EXPORT_DATA_URL, '_blank'); closeLoginModal(); }
        
        document.getElementById('formLoginForm').addEventListener('submit', async function(e) { e.preventDefault(); const btn = document.getElementById('formLoginBtn'); btn.disabled = true; const username = document.getElementById('formLoginUsername').value.trim(); const password = document.getElementById('formLoginPassword').value.trim(); await new Promise(r => setTimeout(r, 500)); const result = validateFormLogin(username, password); if (result.success) { openFormAfterLogin(); } else { document.getElementById('formLoginError').classList.remove('hidden'); document.getElementById('formLoginErrorText').textContent = result.error; } btn.disabled = false; });
        document.getElementById('loginForm').addEventListener('submit', async function(e) { e.preventDefault(); const btn = document.getElementById('loginBtn'); btn.disabled = true; const username = document.getElementById('loginUsername').value.trim(); const password = document.getElementById('loginPassword').value.trim(); await new Promise(r => setTimeout(r, 500)); const result = validateExportLogin(username, password); if (result.success) { exportDataAfterLogin(); } else { document.getElementById('loginError').classList.remove('hidden'); document.getElementById('loginErrorText').textContent = result.error; } btn.disabled = false; });
        
        function fileToBase64(file) { return new Promise((resolve, reject) => { const reader = new FileReader(); reader.readAsDataURL(file); reader.onload = () => resolve(reader.result); reader.onerror = error => reject(error); }); }
        
        document.getElementById('reportForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            const btn = document.getElementById('submitBtn'); btn.disabled = true;
            document.getElementById('submitText').classList.add('hidden');
            document.getElementById('loadingText').classList.remove('hidden');
            
            const fileInput = document.querySelector('input[name="unggahberkas"]');
            let hasFile = fileInput.files.length > 0; let fileData = null;
            if (hasFile) {
                const file = fileInput.files[0];
                if (file.type !== 'application/pdf' || file.size > 5 * 1024 * 1024) { alert('File harus PDF dan maksimal 5MB.'); btn.disabled = false; return; }
                fileData = { name: file.name, type: file.type, data: (await fileToBase64(file)).split(',')[1] };
            }
            
            const formData = new FormData(this); const jsonData = {};
            for (let [key, value] of formData.entries()) { if (key !== 'unggahberkas') jsonData[key] = value; }
            jsonData.fileUpload = fileData;
            
            try {
                const response = await fetch(GOOGLE_SCRIPT_URL, { method: 'POST', body: JSON.stringify(jsonData), mode: 'no-cors' });
                // no-cors response is opaque, cannot read content, but assume success if no network error
                alert('Laporan berhasil dikirim!');
                this.reset();
                closeForm();
                showSuccessWithPDF(null, hasFile);
                setTimeout(() => loadDataFromSpreadsheet(false), 500);
            } catch (error) {
                console.error('Submission error:', error);
                alert('Gagal mengirim laporan. Coba lagi.');
            } finally {
                btn.disabled = false;
                document.getElementById('submitText').classList.remove('hidden');
                document.getElementById('loadingText').classList.add('hidden');
            }
        });

        // --- Skrip Halaman Kontak ---
        function handleContactSubmit(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const nama = formData.get('nama');
            const email = formData.get('email');
            const pesan = formData.get('pesan');
            const subject = 'Pesan dari Website Lahir Mati Pro Aktif';
            const body = `Nama: ${nama}%0D%0AEmail: ${email}%0D%0A%0D%0APesan:%0D%0A${pesan}`;
            const mailtoLink = `mailto:inoducapil@gmail.com?subject=${encodeURIComponent(subject)}&body=${body}`;
            window.location.href = mailtoLink;
            setTimeout(() => {
                alert('‚úÖ Email client Anda akan terbuka untuk mengirim pesan!');
                event.target.reset();
            }, 500);
        }

        function sendWhatsApp() {
            const form = document.getElementById('contactForm');
            const nama = form.querySelector('input[name="nama"]').value;
            const pesan = form.querySelector('textarea[name="pesan"]').value;
            if (!nama || !pesan) { alert('‚ö†Ô∏è Mohon isi nama dan pesan terlebih dahulu!'); return; }
            let message = `*Pesan dari Website Lahir Mati Pro Aktif*\n\n*Nama:* ${nama}\n\n*Pesan:*\n${pesan}`;
            const whatsappNumber = '6281343201115';
            const whatsappLink = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(message)}`;
            window.open(whatsappLink, '_blank');
        }

    </script>

</body>
</html>
